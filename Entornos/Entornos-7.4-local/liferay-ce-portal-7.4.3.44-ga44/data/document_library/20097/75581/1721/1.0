(this["webpackJsonp@liferay/site-initializer-raylife-d2c-remote-app"]=this["webpackJsonp@liferay/site-initializer-raylife-d2c-remote-app"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a=n(34),r=n(35),i=n(68),c=n(72),s=n(73),o=n(6),l=n(4),u=n.n(l),d=n(1),b=n.n(d),m=n(18),p=n.n(m),f=n(9),j=n.n(f),v=window.Liferay||{BREAKPOINTS:{PHONE:0,TABLET:0},ThemeDisplay:{getCanonicalURL:function(){return window.location.href},getCompanyGroupId:function(){return 0},getPathThemeImages:function(){return null},getScopeGroupId:function(){return 0},getSiteGroupId:function(){return 0}},authToken:""};function O(){var e=new URL(v.ThemeDisplay.getCanonicalURL()).pathname.split("/").filter(Boolean);return"/".concat(e.slice(0,e.length-1).join("/"))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O(),n="";window.location.href="".concat(t,"/").concat(e).concat(n)}var x=n(0),S=function(){var e=v.ThemeDisplay.getPathThemeImages();return e?"".concat(e,"/clay/icons.svg"):n(81).default},y=function(e){var t=e.children;return Object(x.jsx)(f.ClayIconSpriteContext.Provider,{value:S(),children:t})},E=(n(44),n(69)),g=function(e){var t={city:"",country:"",state:"",street:"",streetNumber:"",zip:""};return e.forEach((function(e){var n=e.long_name,a=e.short_name;switch(e.types[0]){case"street_number":t.streetNumber=n;break;case"route":t.street=n;break;case"locality":t.city=n;break;case"administrative_area_level_1":t.state=a;break;case"country":t.country=n;break;case"postal_code":t.zip=a}})),t},N=function(){var e=window.google;if(!e)throw new Error("google is not defined. Please check the Google Maps API key within System Settings and ensure a valid API key is entered");return new e.maps.InfoWindow},I=function(e){var t=window.google;if(!t)throw new Error("google is not defined. Please check the Google Maps API key within System Settings and ensure a valid API key is entered");if(!e)throw new Error("No HTMLElement was found as input. Ensure a valid HTMLElement reference is passed!");return t.maps.event.addDomListener(e,"keydown",(function(e){13!==e.keyCode&&"Enter"!==e.key||e.preventDefault()})),new t.maps.places.Autocomplete(e,{componentRestrictions:{country:"us"},fields:["address_components"]})},_=function(e){var t=e.getPlace();return g(t.address_components)},A=function(e){try{new E.a({apiKey:e,libraries:["places"]}).load()}catch(t){console.warn(t)}},C=(n(82),{applicationsfoldername:"Quote Application",googleplaceskey:"",route:""}),T=Object(d.createContext)(C),w=function(e){var t=e.children,n=e.properties;return Object(x.jsx)(T.Provider,{value:n,children:t})},P=n(70),L=n.n(P),R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_LIFERAY_API,k=void 0===R?window.location.origin:R,B=L.a.create({baseURL:k,headers:{"x-csrf-token":v.authToken}});function D(){return B.get("".concat("/o/c/raylifeauthentications")).then((function(e){return e.data.items[0]}))}var M=Liferay.ThemeDisplay.getPortalURL();function U(){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n={body:new URLSearchParams({client_id:(null===t||void 0===t?void 0:t.clientId)||"",client_secret:(null===t||void 0===t?void 0:t.clientSecret)||"",grant_type:"client_credentials"}),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"},e.abrupt("return",fetch("".concat(M,"/o/oauth2/token"),n).then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(7),F="Changes you made may not be saved.";function V(){window.onbeforeunload=function(){}}var W=n(5),H=n(2);function G(e){var t=e.children;return Object(x.jsx)("div",{className:"pl-5 py-5 raylife-template",children:t})}var z=n(14);function K(e){var t=0,n=Object.values(e),a="_f";return n.forEach((function(e){e.hasOwnProperty(a)?e._f.required&&e._f.value&&""!==e._f.value&&(t+=1):t+=K(e)})),t}function J(e,t){return e>t?100:100*e/t}function Q(e){return 2*e*Math.PI}function $(e,t){return t-e/100*t}function X(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",n=0,a=t.length;n<a;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(n));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}var Z=["general-liability","professional-liability","workers-compensation","business-owners-policy"];function ee(e){return Z.includes(X(e))}var te="o/headless-commerce-delivery-catalog/v1.0",ne=function(e){return parseInt(e,10)};function ae(e,t){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("".concat(te,"/channels/").concat(t,"/products/").concat(n,"/skus"));case 2:return a=e.sent,e.abrupt("return",a.data.items[0].price);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a,r,i,c,s,o,l,d,b,m,p=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.length>1&&void 0!==p[1]?p[1]:[],a=[],r=Object(z.a)(n),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=16;break}return c=i.value,s=c.description,o=c.name,l=c.productId,e.next=10,ae(t,l);case 10:d=e.sent,b=d.price,m=d.promoPrice,a.push({description:s,id:l,period:"($".concat(ne(m),"-").concat(ne(b),"/mo)"),template:{allowed:ee(o),name:X(o)},title:o});case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),ce={adaptToFormApplicationRequest:function(e,t){var n,a,r,i,c,s,o,l,u,d,b,m,p,f,j,v,O,h,x,S,y,E,g,N,I,_,A,C,T,w,P,L,R,k,B,D,M,U,Y,q,F,V,W,H,G,z,K,J,Q,$,X,Z,ee,te,ne,ae,re,ie,ce,se,oe,le,ue,de,be,me;return{address:null===e||void 0===e||null===(n=e.basics)||void 0===n||null===(a=n.businessInformation)||void 0===a||null===(r=a.business)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.address,addressApt:null===e||void 0===e||null===(c=e.basics)||void 0===c||null===(s=c.businessInformation)||void 0===s||null===(o=s.business)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.addressApt,applicationCreateDate:(new Date).toISOString().split("T")[0],applicationId:null===e||void 0===e||null===(u=e.basics)||void 0===u?void 0:u.applicationId,applicationStatus:{key:null===t||void 0===t?void 0:t.key,name:null===t||void 0===t?void 0:t.name},businessCategoryId:null===e||void 0===e||null===(d=e.basics)||void 0===d?void 0:d.businessCategoryId,city:null===e||void 0===e||null===(b=e.basics)||void 0===b||null===(m=b.businessInformation)||void 0===m||null===(p=m.business)||void 0===p||null===(f=p.location)||void 0===f?void 0:f.city,dataJSON:JSON.stringify({annualPayrollForEmployees:null===e||void 0===e||null===(j=e.employees)||void 0===j?void 0:j.annualPayrollForEmployees,annualPayrollForOwner:null===e||void 0===e||null===(v=e.employees)||void 0===v?void 0:v.annualPayrollForOwner,buildingSquareFeetOccupied:null===e||void 0===e||null===(O=e.property)||void 0===O?void 0:O.buildingSquareFeetOccupied,businessOperatesYearRound:null===e||void 0===e||null===(h=e.employees)||void 0===h?void 0:h.businessOperatesYearRound,businessSearch:null===e||void 0===e||null===(x=e.basics)||void 0===x?void 0:x.businessSearch,doOwnBuildingAtAddress:null===e||void 0===e||null===(S=e.property)||void 0===S?void 0:S.doOwnBuildingAtAddress,estimatedAnnualGrossRevenue:null===e||void 0===e||null===(y=e.employees)||void 0===y?void 0:y.estimatedAnnualGrossRevenue,fein:null===e||void 0===e||null===(E=e.employees)||void 0===E?void 0:E.fein,hasAutoPolicy:null===e||void 0===e||null===(g=e.business)||void 0===g?void 0:g.hasAutoPolicy,hasFein:null===e||void 0===e||null===(N=e.employees)||void 0===N?void 0:N.hasFein,hasSellProductsUnderOwnBrand:null===e||void 0===e||null===(I=e.business)||void 0===I?void 0:I.hasSellProductsUnderOwnBrand,hasStoredCustomerInformation:null===e||void 0===e||null===(_=e.business)||void 0===_?void 0:_.hasStoredCustomerInformation,isPrimaryBusinessLocation:null===e||void 0===e||null===(A=e.property)||void 0===A?void 0:A.isPrimaryBusinessLocation,isThereDivingBoards:null===e||void 0===e||null===(C=e.property)||void 0===C?void 0:C.isThereDivingBoards,isThereSwimming:null===e||void 0===e||null===(T=e.property)||void 0===T?void 0:T.isThereSwimming,legalEntity:null===e||void 0===e||null===(w=e.business)||void 0===w?void 0:w.legalEntity,naics:null===e||void 0===e||null===(P=e.basics)||void 0===P||null===(L=P.properties)||void 0===L?void 0:L.naics,overallSales:null===e||void 0===e||null===(R=e.business)||void 0===R?void 0:R.overallSales,partTimeEmployees:null===e||void 0===e||null===(k=e.employees)||void 0===k?void 0:k.partTimeEmployees,salesMerchandise:null===e||void 0===e||null===(B=e.business)||void 0===B?void 0:B.salesMerchandise,segment:null===e||void 0===e||null===(D=e.basics)||void 0===D||null===(M=D.properties)||void 0===M?void 0:M.segment,startBusinessAtYear:null===e||void 0===e||null===(U=e.employees)||void 0===U?void 0:U.startBusinessAtYear,stories:null===e||void 0===e||null===(Y=e.property)||void 0===Y?void 0:Y.stories,totalBuildingSquareFeet:null===e||void 0===e||null===(q=e.property)||void 0===q?void 0:q.totalBuildingSquareFeet,yearBuilding:null===e||void 0===e||null===(F=e.property)||void 0===F?void 0:F.yearBuilding,yearsOfExperience:null===e||void 0===e||null===(V=e.business)||void 0===V?void 0:V.yearsOfExperience}),email:null===e||void 0===e||null===(W=e.basics)||void 0===W||null===(H=W.businessInformation)||void 0===H||null===(G=H.business)||void 0===G?void 0:G.email,firstName:null===e||void 0===e||null===(z=e.basics)||void 0===z||null===(K=z.businessInformation)||void 0===K?void 0:K.firstName,lastName:null===e||void 0===e||null===(J=e.basics)||void 0===J||null===(Q=J.businessInformation)||void 0===Q?void 0:Q.lastName,phone:null===e||void 0===e||null===($=e.basics)||void 0===$||null===(X=$.businessInformation)||void 0===X||null===(Z=X.business)||void 0===Z?void 0:Z.phone,productCategory:null===e||void 0===e||null===(ee=e.basics)||void 0===ee?void 0:ee.productCategory,productId:"".concat(null===e||void 0===e||null===(te=e.basics)||void 0===te?void 0:te.productId),productName:null===e||void 0===e||null===(ne=e.basics)||void 0===ne?void 0:ne.productName,state:null===e||void 0===e||null===(ae=e.basics)||void 0===ae||null===(re=ae.businessInformation)||void 0===re||null===(ie=re.business)||void 0===ie||null===(ce=ie.location)||void 0===ce?void 0:ce.state,website:null===e||void 0===e||null===(se=e.basics)||void 0===se||null===(oe=se.businessInformation)||void 0===oe||null===(le=oe.business)||void 0===le?void 0:le.website,zip:null===e||void 0===e||null===(ue=e.basics)||void 0===ue||null===(de=ue.businessInformation)||void 0===de||null===(be=de.business)||void 0===be||null===(me=be.location)||void 0===me?void 0:me.zip}},adaptToProductQuote:ie,adaptToRaylifeApplicationToForm:function(e){var t={basics:{applicationId:e.id,businessCategoryId:e.businessCategoryId,businessInformation:{business:{email:e.email,location:{address:e.address,addressApt:e.addressApt,city:e.city,state:e.state,zip:e.zip},phone:e.phone,website:e.website},firstName:e.firstName,lastName:e.lastName},businessSearch:e.businessSearch,productId:Number(e.productId),productName:e.productName,properties:{naics:e.naics,segment:e.segment}},business:{hasAutoPolicy:e.hasAutoPolicy,hasSellProductsUnderOwnBrand:e.hasSellProductsUnderOwnBrand,hasStoredCustomerInformation:e.hasStoredCustomerInformation,legalEntity:e.legalEntity,overallSales:e.overallSales,salesMerchandise:e.salesMerchandise,yearsOfExperience:e.yearsOfExperience},employees:{annualPayrollForEmployees:e.annualPayrollForEmployees,annualPayrollForOwner:e.annualPayrollForOwner,businessOperatesYearRound:e.businessOperatesYearRound,estimatedAnnualGrossRevenue:e.estimatedAnnualGrossRevenue,fein:e.fein,hasFein:e.hasFein,partTimeEmployees:e.partTimeEmployees,startBusinessAtYear:e.startBusinessAtYear},property:{buildingSquareFeetOccupied:e.buildingSquareFeetOccupied,doOwnBuildingAtAddress:e.doOwnBuildingAtAddress,isPrimaryBusinessLocation:e.isPrimaryBusinessLocation,isThereDivingBoards:e.isThereDivingBoards,isThereSwimming:e.isThereSwimming,stories:e.stories,totalBuildingSquareFeet:e.totalBuildingSquareFeet,yearBuilding:e.yearBuilding}};for(var n in t){Object.values(t[n]).some(Boolean)||delete t[n]}return t}},se=localStorage;function oe(e){return se.getItem(e)}function le(e,t){se.setItem(e,t)}var ue={getItem:oe,itemExist:function(e){return!!se.getItem(e)},removeItem:function(e){se.removeItem(e)},setItem:le},de="raylife-application-form",be="raylife-application-id",me="raylife-back-to-edit",pe="basic-step-clicked",fe="raylife-contextual-message",je="raylife-quote-id",ve="raylife-selected-product",Oe=n(12),he="DESKTOP",xe="PHONE",Se="TABLET",ye="get-in-touch",Ee="hang-tight",ge="",Ne="selected-quote";function Ie(e){var t,n=v.BREAKPOINTS,a=Object.entries(n).sort((function(e,t){return t[1]-e[1]})),r=he,i=Object(z.a)(a);try{for(i.s();!(t=i.n()).done;){var c=Object(W.a)(t.value,2),s=c[0];e<=c[1]&&(r=s)}}catch(o){i.e(o)}finally{i.f()}return r}function _e(){var e=window,t=e.innerHeight,n=e.innerWidth,a=Ie(n),r=767.98,i=992,c=n<i&&n>r;return{device:{isDesktop:a===he,isMobile:a===xe&&n<=r,isTablet:a===Se||c},deviceSize:a,height:t,width:n}}function Ae(){var e=Object(d.useState)(_e()),t=Object(W.a)(e,2),n=t[0],a=t[1];return Object(d.useEffect)((function(){var e=function(){a(_e())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}var Ce="raylife-tip-container-primary",Te="raylife-tip-container-dismiss-primary";function we(e,t){return B.get("/o/headless-admin-taxonomy/v1.0/taxonomy-vocabularies/".concat(e,"/taxonomy-categories?search='").concat(t,"'"))}var Pe=n(3),Le=n.n(Pe),Re=n(8),ke=n(25),Be=n.n(ke);function De(e){return[function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;window.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0,detail:{data:t}}))}]}var Me={off:"hidden",on:"scroll"},Ue={off:"none",on:"auto"},Ye=function(e){var t=e.disabled,n=e.element;Object(d.useEffect)((function(){if(n)return n.style["touch-action"]=t?Ue.off:Ue.on,n.style.overflowY=t?Me.off:Me.on,function(){n.style["touch-action"]=Me.on,n.style.overflowY=Me.on}}),[t])},qe="modal-backdrop",Fe=function(e){var t=e.backdropLight,n=void 0!==t&&t,a=e.closeable,r=void 0===a||a,i=e.children,c=e.footer,s=e.onClose,o=void 0===s?function(){}:s,l=e.size,u=void 0===l?"medium":l,b=e.show;return Ye({disabled:b,element:document.body}),Object(d.useEffect)((function(){var e=function(e){var t=e.path||e.composedPath&&e.composedPath()||[{}];Object(W.a)(t,1)[0].id===qe&&o()};return b&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[b]),b?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:Le()("h-100 w-100 overflow-auto position-fixed backdrop",{"d-block":b,"d-none":!b,dark:!n,light:n}),id:qe}),Object(x.jsxs)("div",{className:Le()("align-items-stretch bg-neutral-0 d-flex flex-column m-auto modal-content-body position-fixed pb-4 pt-3 px-3 rounded",{"modal-large":"large"===u,"modal-medium":"medium"===u,"modal-small":"small"===u,"modal-small-mobile":"small-mobile"===u}),children:[r&&Object(x.jsx)("div",{className:"align-items-center border-bottom-0 d-flex justify-content-end p-0",children:Object(x.jsx)("div",{className:"close-modal",onClick:o,children:Object(x.jsx)(j.a,{symbol:"times"})})}),i,c]})]}):null},Ve=function(e){var t=e.isMobile,n=e.onClose,a=e.webContentModal;return Object(x.jsxs)(Fe,{backdropLight:t,closeable:!1,onClose:n,show:a.show,size:"small-mobile",children:[Object(x.jsx)("div",{className:"tip-container-modal",dangerouslySetInnerHTML:{__html:a.html}}),Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsx)("button",{className:"btn btn-inverted btn-rounded btn-style-primary shadow-none text-uppercase",onClick:n,children:"Dismiss"})})]})};function We(){var e=Object(d.useContext)($n),t=e.dispatch,n=e.state.selectedTrigger,a=function(e){return e===n},r=function(e){return t({payload:e,type:Jn.SET_SELECTED_TRIGGER})};return{clearState:function(){return r("")},isSelected:a,selectedTrigger:n,updateState:function(e){return r(a(e)?"":e)}}}var He="o/headless-delivery/v1.0";function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return B.get("".concat(He,"/sites/").concat(e,"/content-templates").concat(t))}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return B.get("".concat(He,"/structured-content-folders/").concat(e,"/structured-contents").concat(t))}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return B.get("".concat(He,"/sites/").concat(e,"/structured-content-folders").concat(t))}var Je=v.ThemeDisplay.getSiteGroupId(),Qe=Object(d.createContext)(),$e=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,a=Object(W.a)(n.data.items,1),r=a[0],e.abrupt("return",null===r||void 0===r?void 0:r.id);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){var t=e.children,n=Object(d.useContext)($n).state.dimensions.deviceSize,a=De(),r=Object(W.a)(a,1)[0],i=We(),c=i.clearState,s=i.selectedTrigger,l=Object(d.useState)(),b=Object(W.a)(l,2),m=b[0],p=b[1],f=function(e){var t=Object(d.useRef)();return Object(d.useEffect)((function(){t.current=e}),[e]),t.current}(n),j=Object(d.useState)({html:"",show:!1}),v=Object(W.a)(j,2),O=v[0],h=v[1],S=n!==he,y=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([$e((function(){return Ke(Je,"?filter=name eq '".concat("Tip","'"))})),$e((function(){return Ge(Je,"?filter=contains(name, '".concat("Tip","')"))}))]);case 2:if(t=e.sent,n=Object(W.a)(t,2),a=n[0].value,r=n[1].value,a){e.next=8;break}return e.abrupt("return",console.warn("Raylife TIP Folder not found"));case 8:if(r){e.next=10;break}return e.abrupt("return",console.warn("Raylife TIP Template not found"));case 10:return e.next=12,ze(a);case 12:i=e.sent,c=i.data,p({structuredContents:c.items,tipFolderId:a,tipTemplateId:r});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=document.createElement("div");t.innerHTML=e,t.querySelector("#dismiss").remove(),h({html:t.innerHTML,show:!0})},g=Object(d.useCallback)(function(){var e=Object(o.a)(u.a.mark((function e(t,n){var a,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=8;break}if(null===(a=m.structuredContents.find((function(e){return e.friendlyUrlPath===t.templateName})))||void 0===a||!a.id){e.next=8;break}return e.next=5,s=a.id,o=m.tipTemplateId,B.get("".concat(He,"/structured-contents/").concat(s,"/rendered-content/").concat(o));case 5:return i=e.sent,c=i.data,e.abrupt("return",E(c));case 8:r(t,n);case 9:case"end":return e.stop()}var s,o}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[S,m]),N=Object(d.useCallback)((function(){document.getElementById("tip").classList.add("hide"),h({html:"",show:!1}),c()}),[c]);return Object(d.useEffect)((function(){s&&n!==f&&N()}),[n,s,f,N]),Object(d.useEffect)((function(){S&&!m&&y()}),[S,m]),Object(x.jsxs)(Qe.Provider,{value:[m,g],children:[Object(x.jsx)(Ve,{isMobile:n===xe,onClose:N,webContentModal:O}),t]})};function Ze(e){var t=e.callback,n=e.event,a=e.label,r=void 0===a?"More Info":a,i=e.selected,c=e.value,s=Object(d.useContext)(Qe),o=Object(W.a)(s,2)[1];return Object(x.jsx)(Be.a,{className:Le()("btn-info-panel flex-shrink-0 rounded-sm m-0 p-0 justify-content-center ms-auto",{"label-inverse-primary":i,"label-tonal-primary":!i}),onClick:function(){o(Object(H.a)(Object(H.a)({},c),{},{hide:i}),n),t()},children:Object(x.jsxs)("div",{className:"align-items-center d-flex justify-content-center m-0 px-1 px-lg-2 px-sm-2 py-1 py-lg-1 py-sm-1",children:[Object(x.jsx)("span",{className:"flex-shrink-0 p-0 text-center text-paragraph-sm",children:r}),Object(x.jsx)("span",{className:"inline-item inline-item-after",children:Object(x.jsx)(j.a,{symbol:i?"question-circle-full":"question-circle"})})]})})}var et=n(11),tt=n.n(et);function nt(e){var t=e.children;return Object(x.jsx)(Be.a,{className:"label-tonal-danger mt-1 mx-0 p-0 rounded w-100",children:Object(x.jsxs)("div",{className:"align-items-center badge d-flex m-0 warning",children:[Object(x.jsx)("span",{className:"inline-item inline-item-before",children:Object(x.jsx)(j.a,{className:"c-ml-2 c-mr-2",symbol:"exclamation-full"})}),Object(x.jsx)("span",{className:"font-weight-normal text-paragraph",children:t})]})})}function at(e){var t,n=e.children,a=e.className,r=e.error;return Object(x.jsxs)("div",{className:Le()("input-area d-block",(t={},Object(Oe.a)(t,a,a),Object(Oe.a)(t,"has-error",r),t)),children:[n,(null===r||void 0===r?void 0:r.message)&&Object(x.jsx)(nt,{children:r.message})]})}function rt(e){var t=e.children,n=e.className,a=e.label,r=e.name,i=e.required,c=void 0!==i&&i;return Object(x.jsxs)("label",{className:"align-items-center",htmlFor:r,children:[Object(x.jsx)("h6",{className:Le()("d-inline-block font-weight-bolder",n,{required:c}),children:a}),t]})}var it=["className","error","label","name","renderActions","required"],ct=b.a.forwardRef((function(e,t){var n=e.className,a=e.error,r=e.label,i=e.name,c=e.renderActions,s=e.required,o=void 0!==s&&s,l=Object(Re.a)(e,it);return Object(x.jsxs)(at,{className:n,error:a,children:[r&&Object(x.jsx)(rt,{label:r,name:i,required:o,children:c}),Object(x.jsx)(et.ClayInput,Object(H.a)(Object(H.a)({},l),{},{id:i,name:i,ref:t,required:o}))]})})),st=["name","label","rules","control","moreInfoProps","inputProps"];function ot(e){var t=e.name,n=e.label,a=e.rules,r=e.control,i=e.moreInfoProps,c=void 0===i?void 0:i,s=e.inputProps,o=void 0===s?{}:s,l=Object(Re.a)(e,st);return Object(x.jsx)(q.a,Object(H.a)({control:r,defaultValue:"",name:t,render:function(e){var t=e.field,r=e.fieldState;return Object(x.jsx)(ct,Object(H.a)(Object(H.a)({},t),{},{error:r.error,label:n,renderActions:c&&Object(x.jsx)(Ze,Object(H.a)({},c)),required:null===a||void 0===a?void 0:a.required},o))},rules:a},l))}var lt=/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g,ut=/^\d{2}-\d{7}$/g,dt=/[0-9]/g,bt=/^(?:100(?:\.00?)?|\d?\d(?:\.\d\d?)?)?%$/g,mt=/\((\d{3})\)\s\d{3}-\d{4}/g,pt=/^\w{2}$/g,ft=/[^A-Za-z0-9 ]/g,jt=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,vt=/^\d{4}$/g,Ot=/[0-9]{5}/g,ht=["rules"];function xt(e){var t=e.rules,n=Object(Re.a)(e,ht);return Object(x.jsx)(ot,Object(H.a)(Object(H.a)({},n),{},{inputProps:{className:"d-flex mb-5 mr-0"},rules:Object(H.a)({pattern:{message:"Must be a valid email address.",value:lt}},t)}))}var St=["rules"];function yt(e){var t=e.rules,n=Object(Re.a)(e,St);return Object(x.jsx)(ot,Object(H.a)(Object(H.a)({},n),{},{inputProps:{className:"d-flex mb-5 mr-0"},rules:Object(H.a)({pattern:{message:"Should be a valid website address.",value:jt}},t)}))}var Et=n(71),gt=["allowNegative","className","error","label","name","renderActions","required"],Nt=b.a.forwardRef((function(e,t){var n=e.allowNegative,a=void 0!==n&&n,r=e.className,i=e.error,c=e.label,s=e.name,o=e.renderActions,l=e.required,u=void 0!==l&&l,d=Object(Re.a)(e,gt);return Object(x.jsxs)(at,{className:r,error:i,children:[c&&Object(x.jsx)(rt,{label:c,name:s,required:u,children:o}),Object(x.jsx)(Et.a,Object(H.a)(Object(H.a)({},d),{},{allowNegative:a,className:"form-control input w-100",id:s,name:s,ref:t,required:u}))]})})),It=["name","label","rules","control","moreInfoProps","inputProps","renderInput"];function _t(e){var t=e.name,n=e.label,a=e.rules,r=e.control,i=e.moreInfoProps,c=void 0===i?void 0:i,s=e.inputProps,o=void 0===s?{}:s,l=e.renderInput,u=void 0===l||l,d=Object(Re.a)(e,It),b=u?a:{required:!1};return Object(x.jsx)(q.a,Object(H.a)({control:r,defaultValue:"",name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(x.jsx)(Nt,Object(H.a)(Object(H.a)({className:"".concat(Le()({"d-none":!u})," mb-5"),error:a.error,label:n,renderActions:c&&Object(x.jsx)(Ze,Object(H.a)({},c)),required:null===b||void 0===b?void 0:b.required},t),o))},rules:b},d))}var At=["rules","inputProps"];function Ct(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(Re.a)(e,At);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},i),{},{inputProps:Object(H.a)(Object(H.a)({className:"d-flex mb-5 mr-0",format:"(###) ###-####",mask:"_"},r),{},{placeholder:"(___) ___-____"}),rules:Object(H.a)({pattern:{message:"Must be a valid phone number.",value:mt}},n)}))}var Tt=function(){var e=Object(d.useContext)($n),t=e.dispatch,n=e.state,a=n.dimensions.device.isMobile,r=n.activeMobileSubSection,i=n.selectedStep.mobileSubSections,c=void 0===i?[]:i,s={activeMobileSubSection:r,isMobile:a};return{getMobileSubSection:Object(d.useCallback)((function(e){return c.find((function(t){return t.title===e}))}),[c]),mobileContainerProps:s,nextStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;setTimeout((function(){t({payload:{nextStep:!0},type:Jn.SET_MOBILE_SUBSECTION_ACTIVE})}),e)}}},wt="raylife-form-input",Pt=function(){var e=Object(q.d)(),t=e.register,n=e.setValue;return Object(d.useEffect)((function(){t(wt)}),[t]),function(){n(wt,"",{shouldValidate:!0})}},Lt=function(e){var t=e.activeMobileSubSection,n=void 0===t?{}:t,a=e.children,r=e.isMobile,i=e.mobileSubSection,c=void 0===i?{}:i,s=e.hasAddress,o=void 0===s?"":s,l=Pt(),u=c.hideInputLabel,b=c.title===n.title;return Object(d.useEffect)((function(){r&&b&&l()}),[r,b]),r?b?Object(x.jsxs)("div",{className:"flex flex-column",children:[Object(x.jsx)("h2",{className:"mx-auto text-center text-dark",children:"".concat(c.title," ").concat(o)}),Object(x.jsx)("div",{className:Le()("mt-4",{"hide-input-label":u}),children:a})]}):null:a},Rt=["rules","inputProps"];function kt(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(Re.a)(e,Rt);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},i),{},{inputProps:Object(H.a)({className:"zip",format:"#####",mask:"_"},r),rules:Object(H.a)({pattern:{message:"Must be a five digit number.",value:Ot}},n)}))}var Bt=["children","className","error","label","name","renderActions","required"],Dt=b.a.forwardRef((function(e,t){var n=e.children,a=e.className,r=e.error,i=e.label,c=e.name,s=e.renderActions,o=e.required,l=void 0!==o&&o,u=Object(Re.a)(e,Bt);return Object(x.jsxs)(at,{className:a,error:r,children:[i&&Object(x.jsx)(rt,{label:i,name:c,required:l,children:s}),Object(x.jsx)("select",Object(H.a)(Object(H.a)({},u),{},{className:"form-control",id:c,name:c,ref:t,required:l,children:n}))]})})),Mt=["name","label","control","rules","children","moreInfoProps","inputProps","defaultValue"];function Ut(e){var t=e.name,n=e.label,a=e.control,r=e.rules,i=e.children,c=e.moreInfoProps,s=void 0===c?void 0:c,o=e.inputProps,l=void 0===o?{}:o,u=e.defaultValue,d=void 0===u?"":u,b=Object(Re.a)(e,Mt);return Object(x.jsx)(q.a,Object(H.a)({control:a,defaultValue:d,name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(x.jsx)(Dt,Object(H.a)(Object(H.a)(Object(H.a)({},t),{},{error:a.error,label:n,renderActions:s&&Object(x.jsx)(Ze,Object(H.a)({},s)),required:null===r||void 0===r?void 0:r.required},l),{},{children:i}))},rules:r},b))}var Yt=[{abbreviation:"AL",name:"Alabama"},{abbreviation:"AK",name:"Alaska"},{abbreviation:"AS",name:"American Samoa"},{abbreviation:"AZ",name:"Arizona"},{abbreviation:"AR",name:"Arkansas"},{abbreviation:"CA",name:"California"},{abbreviation:"CO",name:"Colorado"},{abbreviation:"CT",name:"Connecticut"},{abbreviation:"DE",name:"Delaware"},{abbreviation:"DC",name:"District Of Columbia"},{abbreviation:"FM",name:"Federated States Of Micronesia"},{abbreviation:"FL",name:"Florida"},{abbreviation:"GA",name:"Georgia"},{abbreviation:"GU",name:"Guam"},{abbreviation:"HI",name:"Hawaii"},{abbreviation:"ID",name:"Idaho"},{abbreviation:"IL",name:"Illinois"},{abbreviation:"IN",name:"Indiana"},{abbreviation:"IA",name:"Iowa"},{abbreviation:"KS",name:"Kansas"},{abbreviation:"KY",name:"Kentucky"},{abbreviation:"LA",name:"Louisiana"},{abbreviation:"ME",name:"Maine"},{abbreviation:"MH",name:"Marshall Islands"},{abbreviation:"MD",name:"Maryland"},{abbreviation:"MA",name:"Massachusetts"},{abbreviation:"MI",name:"Michigan"},{abbreviation:"MN",name:"Minnesota"},{abbreviation:"MS",name:"Mississippi"},{abbreviation:"MO",name:"Missouri"},{abbreviation:"MT",name:"Montana"},{abbreviation:"NE",name:"Nebraska"},{abbreviation:"NV",name:"Nevada"},{abbreviation:"NH",name:"New Hampshire"},{abbreviation:"NJ",name:"New Jersey"},{abbreviation:"NM",name:"New Mexico"},{abbreviation:"NY",name:"New York"},{abbreviation:"NC",name:"North Carolina"},{abbreviation:"ND",name:"North Dakota"},{abbreviation:"MP",name:"Northern Mariana Islands"},{abbreviation:"OH",name:"Ohio"},{abbreviation:"OK",name:"Oklahoma"},{abbreviation:"OR",name:"Oregon"},{abbreviation:"PW",name:"Palau"},{abbreviation:"PA",name:"Pennsylvania"},{abbreviation:"PR",name:"Puerto Rico"},{abbreviation:"RI",name:"Rhode Island"},{abbreviation:"SC",name:"South Carolina"},{abbreviation:"SD",name:"South Dakota"},{abbreviation:"TN",name:"Tennessee"},{abbreviation:"TX",name:"Texas"},{abbreviation:"UT",name:"Utah"},{abbreviation:"VT",name:"Vermont"},{abbreviation:"VI",name:"Virgin Islands"},{abbreviation:"VA",name:"Virginia"},{abbreviation:"WA",name:"Washington"},{abbreviation:"WV",name:"West Virginia"},{abbreviation:"WI",name:"Wisconsin"},{abbreviation:"WY",name:"Wyoming"}],qt=[{name:"Association"},{name:"Corporation"},{name:"Individual/Sole Proprietor"},{name:"Joint Venture"},{name:"Limited Liability Company (LLC)"},{name:"Limited Liability Partnership (LLP)"},{name:"Partnership"},{name:"Professional Corporation (PC)"}],Ft=function(){return new Promise((function(e){e(qt)}))},Vt=function(){return new Promise((function(e){e(Yt)}))};function Wt(){var e=Object(d.useState)(),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(),i=Object(W.a)(r,2),c=i[0],s=i[1];Object(d.useEffect)((function(){l()}),[]);var l=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vt();case 3:t=e.sent,a(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return{isError:c,isLoading:!n&&!c,setAutoComplete:function(e,t){try{var n=I(e),a=N();n.addListener("place_changed",(function(){a.close();var e=_(n);t(e)}))}catch(c){console.warn(c)}},states:n||[]}}var Ht=["rules"];function Gt(e){var t=e.rules,n=Object(Re.a)(e,Ht),a=Wt().states;return Object(x.jsx)(Ut,Object(H.a)(Object(H.a)({},n),{},{defaultValue:"AL",rules:Object(H.a)({pattern:{message:"Should be a two letter word.",value:pt}},t),children:a.map((function(e){var t=e.abbreviation;return Object(x.jsx)("option",{value:t,children:t},t)}))}))}var zt=function(e){return"basics.businessInformation.business.location.".concat(e)};function Kt(){var e=Object(d.useRef)(),t=Wt().setAutoComplete,n=Object(q.d)(),a=n.control,r=n.register,i=n.setValue;Object(d.useEffect)((function(){e.current&&t(e.current,c)}),[e]);var c=function(e){i(zt("city"),e.city,{shouldValidate:!0}),i(zt("state"),e.state),i(zt("zip"),e.zip),i(zt("address"),"".concat(e.streetNumber," ").concat(e.street))};return Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-between",children:[Object(x.jsx)(ot,{control:a,inputProps:{className:"col-sm-12 col-md-8 col-lg-8 pr-lg-4 pr-md-4 p-0",placeholder:"Street address",ref:e},label:Fn.PHYSICAL_BUSINESS_ADDRESS,name:zt("address"),rules:{required:"Business address is required."}}),Object(x.jsx)(ct,Object(H.a)(Object(H.a)({},r(zt("addressApt"))),{},{className:"col-lg-4 col-md-4 col-sm-12 p-0",label:"\xa0",placeholder:"Apt/Suite (optional)"}))]}),Object(x.jsxs)("div",{className:"d-flex flex-row flex-wrap justify-content-between my-3 my-lg-5 my-md-5 my-sm-3",children:[Object(x.jsx)(ot,{control:a,inputProps:{className:"col-sm-8 col-md-5 col-lg-5 pr-sm-4 pr-xs-0 p-0"},label:Fn.CITY,name:zt("city"),rules:{required:"City is required."}}),Object(x.jsx)(Gt,{control:a,inputProps:{className:"col-sm-4 col-md-3 col-lg-3 pr-md-4 pr-lg-4 p-0 mt-3 mt-sm-0 mt-md-0 mt-lg-0"},label:Fn.STATE,name:zt("state"),rules:{required:"This field is required."}}),Object(x.jsx)(kt,{control:a,inputProps:{className:"col-sm-12 col-md-4 col-lg-4 mt-md-0 mt-sm-3 pt-xs-3 p-0 mt-3 mt-md-0 mt-lg-0"},label:Fn.ZIP,name:zt("zip"),rules:{required:"ZIP is required."}})]})]})}var Jt=function(e){return"basics.businessInformation.".concat(e)};var Qt=n(10),$t=n.n(Qt),Xt=["children","error","isMobileDevice","label","name","renderActions","required"],Zt=b.a.forwardRef((function(e,t){var n=e.children,a=e.error,r=e.isMobileDevice,i=void 0!==r&&r,c=e.label,s=e.name,o=e.renderActions,l=e.required,u=void 0!==l&&l,d=Object(Re.a)(e,Xt);return Object(x.jsxs)(x.Fragment,{children:[c&&Object(x.jsx)("div",{className:"mb-4 mb-lg-2 mb-md-2 mb-sm-4",children:Object(x.jsx)(rt,{className:i?"h4 text-center":null,label:c,name:s,required:u,children:o})}),Object(x.jsxs)("div",{className:"d-flex flex-row position-relative",children:[Object(x.jsxs)(at,{className:"col px-0",error:a,children:[Object(x.jsx)(et.ClayInput,Object(H.a)(Object(H.a)({},d),{},{id:s,maxLength:255,name:s,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},ref:t,required:u})),i&&Object(x.jsx)(j.a,{className:"bussiness-type-search-icon position-absolute text-neutral-6",symbol:"search"})]}),n]})]})}));var en={OWN_BRAND_LABEL:["453910","722513","424930"],PERCENT_SALES:["453910","424930"]},tn={OVERALL_SALES:["Retail"]};function nn(e){return en.PERCENT_SALES.includes(e)}function an(e){return en.OWN_BRAND_LABEL.includes(e)}function rn(e){return tn.OVERALL_SALES.includes(e)}function cn(e){return"habitational"===e}function sn(){return{applicationId:new URLSearchParams(window.location.search).get("applicationId"),backToEdit:ue.getItem(me)&&JSON.parse(ue.getItem(me))}}function on(){var e=Object(q.e)(),t=De(Ce),n=Object(W.a)(t,1)[0],a=Object(d.useContext)($n),r=a.dispatch,i=a.state,c=sn(),s=c.applicationId,o=c.backToEdit,l=i.percentage,u=i.steps.find((function(e){return e.active})),b=s||o,m=function(e){r({payload:e,type:Jn.SET_PERCENTAGE})},p=Object(q.d)().control._fields;Object(d.useEffect)((function(){j()}),[e]),Object(d.useEffect)((function(){n({hide:!0})}),[u.section]),Object(d.useEffect)((function(){b&&f()}),[b]);var f=function(){var t,n=Object.keys(e).filter((function(e){return"raylife-form-input"!==e}));switch(null===(t=n[n.length-1])||void 0===t?void 0:t.toLowerCase()){case Vn.BUSINESS.section:O({basics:100,business:100});break;case Vn.EMPLOYEES.section:O({basics:100,business:100,employees:100});break;case Vn.PROPERTY.section:O({basics:100,business:100,employees:100,property:100})}},j=function(){var t,n;switch(u.section){case Vn.BASICS_BUSINESS_TYPE.section:var a,r,i;return b?u.subsection===Vn.BASICS_BUSINESS_INFORMATION.subsection?v(J(K((null===p||void 0===p?void 0:p.basics)||{}),qn.BASICS-1),Vn.BASICS_BUSINESS_TYPE.section):(!(ue.getItem(pe)||null!==e&&void 0!==e&&null!==(a=e.basics)&&void 0!==a&&a.businessSearch)||null!==e&&void 0!==e&&null!==(r=e.basics)&&void 0!==r&&r.businessCategoryId)&&null!==e&&void 0!==e&&null!==(i=e.basics)&&void 0!==i&&i.businessCategoryId?v(100,Vn.BASICS_BUSINESS_TYPE.section):v(l.basics,Vn.BASICS_BUSINESS_TYPE.section):v(J(K((null===p||void 0===p?void 0:p.basics)||{}),qn.BASICS),Vn.BASICS_BUSINESS_TYPE.section);case Vn.BUSINESS.section:return v(J(K((null===p||void 0===p?void 0:p.business)||{}),function(e){var t=4;return en.OWN_BRAND_LABEL.includes(null===e||void 0===e?void 0:e.naics)&&t++,en.PERCENT_SALES.includes(null===e||void 0===e?void 0:e.naics)&&t++,tn.OVERALL_SALES.includes(null===e||void 0===e?void 0:e.segment)&&t++,t}(null===e||void 0===e||null===(t=e.basics)||void 0===t?void 0:t.properties)),Vn.BUSINESS.section);case Vn.EMPLOYEES.section:var c=qn.EMPLOYEES;return"true"===(null===e||void 0===e||null===(n=e.employees)||void 0===n?void 0:n.hasFein)&&c++,v(J(K((null===p||void 0===p?void 0:p.employees)||{}),c),Vn.EMPLOYEES.section);case Vn.PROPERTY.section:return v(J(K((null===p||void 0===p?void 0:p.property)||{}),function(e){var t,n,a,r=qn.PROPERTY;return"habitational"===(null===e||void 0===e||null===(t=e.basics)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.segment.toLowerCase())&&r++,"true"===(null===e||void 0===e||null===(a=e.property)||void 0===a?void 0:a.isThereSwimming)&&r++,r}(e)),Vn.PROPERTY.section);default:return v(0,Vn.BASICS_BUSINESS_TYPE.section)}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vn.BASICS_BUSINESS_TYPE.section;m(Object(H.a)(Object(H.a)({},l),{},Object(Oe.a)({},t,e)))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{basics:0,business:0,employees:0,property:0};m(Object(H.a)(Object(H.a)({},l),e))};return{selectedStep:u,setPercentage:v,setSection:function(e){r({payload:e,type:Jn.SET_STEP_ACTIVE})}}}var ln=n(38),un=n.n(ln),dn=["description","label","name","onChange","renderActions","selected","sideLabel","value"],bn=Object(d.forwardRef)((function(e,t){var n=e.description,a=e.label,r=e.name,i=e.onChange,c=e.renderActions,s=e.selected,o=void 0!==s&&s,l=e.sideLabel,u=e.value,d=Object(Re.a)(e,dn);return Object(x.jsxs)(un.a,{className:Le()("align-items-baseline d-flex flex-row mb-3 py-2 py-sm-3 px-sm-3 px-2 radio-card rounded user-select-auto",{"bg-brand-primary-lighten-5 border border-primary text-brand-primary":o,"card-outlined":!o}),onClick:function(){return i({target:{value:u}})},selected:o,children:[Object(x.jsx)(et.ClayRadio,Object(H.a)(Object(H.a)({},d),{},{checked:o,inline:!0,name:r,onChange:function(){return i({target:{value:u}})},ref:t,value:u})),Object(x.jsxs)("div",{className:"d-flex flex-wrap p-0",children:[Object(x.jsxs)("div",{className:"align-items-start align-self-start col-12 d-flex flex-wrap justify-content-between mb-0 p-0",children:[Object(x.jsxs)("label",{className:Le()("d-flex flex-wrap radio-card-label flex-lg-nowrap font-weight-bolder text-paragraph-lg col-8 col-sm-8 col-md-10 col-lg-auto p-0 ",{"text-brand-primary":o}),htmlFor:r,children:[Object(x.jsxs)("p",{className:"col-12 col-lg-auto col-md-auto col-sm-12 p-0",children:[a," \xa0"]}),Object(x.jsx)("small",{className:"col-12 col-lg-auto col-md-5 col-sm-12 font-weight-normal justify-content-md-end mb-1 ml-0 p-0 text-neutral-10 text-paragraph-lg",children:l})]}),Object(x.jsx)("div",{className:"col-4 col-lg-auto col-md-auto col-sm-4 d-flex justify-content-end p-0",children:c})]}),Object(x.jsx)("p",{className:"col-12 p-0 text-neutral-8 text-paragraph-sm",children:n})]})]})})),mn=function(e){var t,n=e.businessTypes,a=void 0===n?[]:n,r=e.form,i=e.setNewSelectedProduct,c=Object(q.d)(),s=c.control,o=c.setValue,l=a.find((function(e){var t,n=e.id;return(null===r||void 0===r||null===(t=r.basics)||void 0===t?void 0:t.businessCategoryId)===n}));Object(d.useEffect)((function(){var e;null!==r&&void 0!==r&&null!==(e=r.basics)&&void 0!==e&&e.businessCategoryId&&(u(),o("basics.productCategory",null===l||void 0===l?void 0:l.name),i(r.basics.businessCategoryId))}),[null===r||void 0===r||null===(t=r.basics)||void 0===t?void 0:t.businessCategoryId,l]);var u=function(){var e,t,n,a=(null===l||void 0===l?void 0:l.taxonomyCategoryProperties)||[];a&&a.length&&(o("basics.properties.businessClassCode",null===(e=a.find((function(e){return"BCC"===e.key})))||void 0===e?void 0:e.value),o("basics.properties.naics",null===(t=a.find((function(e){return"NAICS"===e.key})))||void 0===t?void 0:t.value),o("basics.properties.segment",null===(n=a.find((function(e){return"Segment"===e.key})))||void 0===n?void 0:n.value))};return Object(x.jsx)("fieldset",{id:"businessType",children:Object(x.jsx)(q.a,{control:s,defaultValue:"",name:"basics.businessCategoryId",render:function(e){var t=e.field;return a.map((function(e){var n;return Object(d.createElement)(bn,Object(H.a)(Object(H.a)({},t),{},{description:e.description,key:e.id,label:e.name,selected:e.id===(null===r||void 0===r||null===(n=r.basics)||void 0===n?void 0:n.businessCategoryId),value:e.id}))}))},rules:{required:"Please, Select a field."}})})},pn="i-am-unable-to-find-my-industry";function fn(e){var t,n,a=e.form,r=e.isMobileDevice,i=void 0!==r&&r,c=e.setNewSelectedProduct,s=e.taxonomyVocabularyId,l=Object(d.useState)([]),b=Object(W.a)(l,2),m=b[0],p=b[1],f=Object(d.useState)(),j=Object(W.a)(f,2),v=j[0],O=j[1],h=Object(q.d)(),S=h.register,y=h.setValue,E=We(),g=E.isSelected,N=E.updateState,I=on().setPercentage,_=Object(d.useState)(!1),A=Object(W.a)(_,2),C=A[0],T=A[1],w=sn(),P=w.applicationId,L=w.backToEdit,R=function(e,t){var n=Object(d.useState)(e),a=Object(W.a)(n,2),r=a[0],i=a[1];return Object(d.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(null===a||void 0===a||null===(t=a.basics)||void 0===t?void 0:t.businessSearch,500),k=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:""){e.next=3;break}return e.abrupt("return",p([]));case 3:return e.prev=3,e.next=6,we(s,t);case 6:n=e.sent,a=n.data.items||[],O(""),p(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O("Unable to make the request. Please try again later.");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t||((P||L)&&I(J(qn.BASICS-1,qn.BASICS),Vn.BASICS_BUSINESS_TYPE.section),y("basics.businessCategoryId",""),y("basics.properties.businessClassCode",""),y("basics.properties.naics",""),y("basics.properties.segment","")),e.next=4,k(t);case 4:T(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){B(R)}),[R]);var D,M,U=!m.length&&!C&&R;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"mb-5",children:[Object(x.jsx)(Zt,Object(H.a)(Object(H.a)({className:Le()("bg-neutral-1 font-weight-bold px-4 py-0 search text-neutral-10 text-paragraph-lg",{"pr-7":i}),defaultValue:"",isMobileDevice:i,label:"Search for your primary industry and then select it from the list.",placeholder:"Begin typing to show options...",required:!0},S("basics.businessSearch",{required:"Please, search for a business type in order to proceed."})),{},{children:!i&&Object(x.jsx)($t.a,{className:"font-weight-bolder ml-3 search text-paragraph text-small-caps",displayType:"primary",children:"Search"})})),Object(x.jsx)("p",{className:"mt-1 paragraph",children:"i.e. Apartments, Coffee, Medical, Pet Stores, etc"})]}),Object(x.jsx)(mn,{businessTypes:m,form:a,setNewSelectedProduct:c}),U&&Object(x.jsxs)(nt,{children:['There are no results for "',(D=null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.businessSearch,M=18,!D||D.length<=M?D:D.slice(0,M)+"..."),'". Please try a different search.']}),v&&Object(x.jsx)(nt,{children:v}),R&&!C&&Object(x.jsx)(Ze,{callback:function(){return N(pn)},event:Ce,label:"I am unable to find my industry",selected:g(pn),value:{templateName:pn}})]})}var jn="o/headless-commerce-delivery-catalog/v1.0";function vn(){return On.apply(this,arguments)}function On(){return(On=Object(o.a)(u.a.mark((function e(){var t,n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Raylife D2C Channel",e.next=3,B.get("".concat(jn,"/channels?filter=name eq '").concat("Raylife D2C Channel","'"));case 3:return a=e.sent,r=null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.items[0])||void 0===n?void 0:n.id,e.next=7,B.get("".concat(jn,"/channels/").concat(r,"/products"));case 7:return i=e.sent,c=i.data,e.abrupt("return",ce.adaptToProductQuote(r,c.items));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e){return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},e),{},{inputProps:{className:"mb-5"}}))}var xn=["inputProps"];function Sn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(Re.a)(e,xn);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},a),{},{inputProps:Object(H.a)({className:"mb-5",decimalScale:2,mask:"_",placeholder:"%",suffix:"%"},n)}))}function yn(e){var t=Object.assign({},e),n=function(){var e=Object(d.useState)(),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(),i=Object(W.a)(r,2),c=i[0],s=i[1];Object(d.useEffect)((function(){l()}),[]);var l=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ft();case 3:t=e.sent,a(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return{entities:n||[],isError:c,isLoading:!n&&!c}}(),a=n.entities;return Object(x.jsxs)(Ut,Object(H.a)(Object(H.a)({},t),{},{children:[Object(x.jsx)(et.ClaySelect.Option,{hidden:!0,label:"Select"}),a.map((function(e){var t=e.name;return Object(x.jsx)(et.ClaySelect.Option,{label:t,value:t},t)}))]}))}var En=["name","label","renderActions","error","value","required","onChange"],gn=b.a.forwardRef((function(e,t){var n=e.name,a=e.label,r=e.renderActions,i=e.error,c=e.value,s=void 0===c?"true":c,o=e.required,l=void 0!==o&&o,u=e.onChange,d=void 0===u?function(){}:u,b=Object(Re.a)(e,En);return Object(x.jsxs)(at,{error:i,children:[a&&Object(x.jsx)(rt,{label:a,name:n,required:l,children:r}),Object(x.jsxs)("div",{className:"align-items-center d-flex flex-row justify-content-center justify-content-lg-start justify-content-md-start mb-1 mb-md-4",children:[Object(x.jsx)($t.a,{className:Le()("btn-ghost btn-style-primary mr-2 pl-5 pr-5 rounded-pill switch",{selected:"true"===s}),displayType:null,onClick:function(){return d("true")},type:"button",children:"Yes"}),Object(x.jsx)($t.a,{className:Le()("btn-ghost btn-style-primary pl-5 pr-5 rounded-pill switch",{selected:"false"===s}),displayType:null,onClick:function(){return d("false")},type:"button",children:"No"})]}),Object(x.jsx)("input",Object(H.a)(Object(H.a)({},b),{},{className:"hidden",name:n,onChange:d,ref:t,value:s}))]})})),Nn=["name","label","control","rules","onSelect","moreInfoProps","inputProps","defaultValue"];function In(e){var t=e.name,n=e.label,a=e.control,r=e.rules,i=e.onSelect,c=void 0===i?function(){}:i,s=e.moreInfoProps,o=void 0===s?void 0:s,l=e.inputProps,u=void 0===l?{}:l,d=e.defaultValue,b=void 0===d?"":d,m=Object(Re.a)(e,Nn);return Object(x.jsx)(q.a,Object(H.a)({control:a,defaultValue:b,name:t,render:function(e){var t=e.field,a=e.fieldState;return Object(x.jsx)(gn,Object(H.a)(Object(H.a)({},t),{},{error:a.error,label:n,onChange:function(e){t.onChange(e),"function"===typeof c&&c()},renderActions:o&&Object(x.jsx)(Ze,Object(H.a)({},o)),required:null===r||void 0===r?void 0:r.required},u))},rules:r},m))}var _n=function(e){return"business.".concat(e)};var An=["inputProps"];function Cn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(Re.a)(e,An);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},a),{},{inputProps:Object(H.a)({className:"mb-5",decimalScale:2,fixedDecimalScale:!0,prefix:"$",thousandSeparator:!0},n)}))}var Tn=["rules","inputProps"];function wn(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(Re.a)(e,Tn);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},i),{},{inputProps:Object(H.a)({format:"##-#######",mask:"_"},r),rules:Object(H.a)({pattern:{message:"Please enter a valid FEIN.",value:ut}},n)}))}var Pn=["rules","inputProps"];function Ln(e){var t=e.rules,n=void 0===t?{}:t,a=e.inputProps,r=void 0===a?{}:a,i=Object(Re.a)(e,Pn);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},i),{},{inputProps:Object(H.a)({className:"mb-5",format:"####",mask:"_"},r),rules:Object(H.a)({max:{message:"You cannot enter a future year.",value:(new Date).getFullYear()},pattern:{message:"Must be a valid year.",value:vt}},n)}))}var Rn=function(e){return"employees.".concat(e)};var kn=["inputProps"];function Bn(e){var t=e.inputProps,n=void 0===t?{}:t,a=Object(Re.a)(e,kn);return Object(x.jsx)(_t,Object(H.a)(Object(H.a)({},a),{},{inputProps:Object(H.a)({className:"mb-5",suffix:" ft\xb2",thousandSeparator:!0},n)}))}var Dn=function(e){return"property.".concat(e)};var Mn,Un,Yn,qn={BASICS:10,EMPLOYEES:7,PROPERTY:6},Fn={BUSINESS_ANUAL_GROSS_REVENUE:"What is your estimated annual gross revenue for the next 12 months?",BUSINESS_EMAIL:"Business Email",BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER:"Does your business have a Federal Employer Identification Number (FEIN)?",BUSINESS_WEBSITE:"Business Website (optional)",BUSINESS_YEAR_OPERATION:"Does your business operate year round?",CITY:"City",DIVING_BOARDS:"Are there diving boards or slides?",DO_YOU_HAVE_RAYLIFE_POLICY:"Do you have a Raylife Auto policy?",DO_YOU_OWN_THE_BUILDING_AT:"Do you own the building at ",DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND:"Do you sell products under your own brand or label?",DO_YOU_STORE_PERSONALITY_IDENTIFIABLE:"Do you store personally identifiable information about your customers?",EMPLOYEES_AMOUNT:"How many full or part time employees do you have?",EMPLOYEES_ANNUAL_PAYROLL:"What do you anticipate your annual payroll will be for all employees over the next 12 months?",FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER:"Federal Employer Identification Number (FEIN)",FIRST_NAME:"First Name",HOW_MANY_SQUARE_FEET_OF_THE_BUILDING:"How many square feet of the building does your business occupy?",HOW_MANY_STORIES_IS_THIS_BUILDING:"How many stories is this building?",HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING:"How many total square feet is the building?",LAST_NAME:"Last Name",LEGAL_ENTITY:"Legal Entity",OWNERS_ANNUAL_PAYROLL:"What do you anticipate your annual payroll will be for all owner(s) over the next 12 months?",PERCENT_OF_SALES_FROM_MERCHANDISE:"Percent of sales from used merchandise?",PHONE:"Phone",PHYSICAL_ADDRESS:"Physical Address",PHYSICAL_BUSINESS_ADDRESS:"Physical Business Address",PREMISES:"Premises",PRIMARY_LOCATION:"Is this the primary location where you conduct business?",STATE:"State",SWIMMING_POOL:"Are there swimming pool(s) on the premises?",WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY:"What percentage of overall sales involve delivery?",WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED:"What year was the building constructed?",YEAR_BUSINESS_STARTED:"What year did you start your business?",YEAR_OF_INDUSTRY_EXPERIENCE:"Years of industry experience?",YOUR_NAME:"Your Name",ZIP:"ZIP"},Vn={BASICS_BUSINESS_INFORMATION:{Component:function(e){var t=e.form,n=e.isMobile,a=De(Ce),r=Object(W.a)(a,1)[0],i=Tt(),c=i.getMobileSubSection,s=i.mobileContainerProps,o=Object(q.d)().control,l=function(){var e,n,a,i,c;r({inputName:Jt("firstName"),templateData:{firstName:" ".concat((null===t||void 0===t||null===(e=t.basics)||void 0===e||null===(n=e.businessInformation)||void 0===n||null===(a=n.firstName)||void 0===a?void 0:a.trim())||"","! \ud83d\udc4b")},templateName:"hi-template",value:null===t||void 0===t||null===(i=t.basics)||void 0===i||null===(c=i.businessInformation)||void 0===c?void 0:c.firstName})};return Object(d.useEffect)((function(){var e,n;if(null!==t&&void 0!==t&&null!==(e=t.basics)&&void 0!==e&&null!==(n=e.businessInformation)&&void 0!==n&&n.firstName)return l();r({templateData:{firstName:"! \ud83d\udc4b"},templateName:"hi-template"})}),[]),Object(x.jsxs)("div",{className:"p-0",children:[Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},s),{},{mobileSubSection:c(Fn.YOUR_NAME),children:Object(x.jsxs)("div",{className:Le()("d-flex justify-content-between mb-5",Object(Oe.a)({},"flex-wrap",n)),children:[Object(x.jsx)(ot,{control:o,inputProps:{autoFocus:!0,className:Le()("flex-grow-1 p-0 mr-4",{"col-12 mb-4":n}),maxLength:256,onBlur:l},label:Fn.FIRST_NAME,name:Jt("firstName"),rules:{required:"First name is required."}}),Object(x.jsx)(ot,{control:o,inputProps:{className:"flex-grow-1 p-0 ",maxLength:256},label:Fn.LAST_NAME,name:Jt("lastName"),rules:{required:"Last name is required."}})]})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},s),{},{mobileSubSection:c(Fn.BUSINESS_EMAIL),children:Object(x.jsx)(xt,{control:o,label:Fn.BUSINESS_EMAIL,name:Jt("business.email"),rules:{required:"Email is required."}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},s),{},{mobileSubSection:c(Fn.PHONE),children:Object(x.jsx)(Ct,{control:o,label:Fn.PHONE,name:Jt("business.phone"),rules:{required:"Phone number is required."}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},s),{},{mobileSubSection:c(Fn.BUSINESS_WEBSITE),children:Object(x.jsx)(yt,{control:o,label:Fn.BUSINESS_WEBSITE,name:Jt("business.website")})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},s),{},{mobileSubSection:c(Fn.PHYSICAL_ADDRESS),children:Object(x.jsx)(Kt,{})}))]})},active:!1,id:"BASICS_BUSINESS_INFORMATION",index:2,mobileSubSections:[{active:!0,hideInputLabel:!1,title:Fn.YOUR_NAME},{active:!1,hideInputLabel:!0,title:Fn.BUSINESS_EMAIL},{active:!1,hideInputLabel:!0,title:Fn.PHONE},{active:!1,hideInputLabel:!0,title:Fn.BUSINESS_WEBSITE},{active:!1,hideInputLabel:!1,title:Fn.PHYSICAL_ADDRESS}],section:"basics",subsection:"businessInformation",title:"Just the business basics!"},BASICS_BUSINESS_TYPE:{Component:function(e){var t=e.form,n=Object(d.useContext)($n),a=n.dispatch,r=n.state,i=Object(q.d)().setValue,c=Object(d.useState)(ue.getItem(ve)),s=Object(W.a)(c,2),o=s[0],l=s[1];return Object(d.useEffect)((function(){r.selectedProduct!==o&&(i("business",""),a({payload:o,type:Jn.SET_SELECTED_PRODUCT}))}),[r.selectedProduct,o]),Object(x.jsx)("div",{className:"d-flex flex-column mb-5",children:Object(x.jsx)(fn,{form:t,isMobileDevice:r.dimensions.device.isMobile,setNewSelectedProduct:function(e){l(e),ue.setItem(ve,e)},taxonomyVocabularyId:r.taxonomyVocabulary.id})})},active:!1,id:"BASICS_BUSINESS_TYPE",index:1,section:"basics",subsection:"business-type",title:"Select a primary industry."},BASICS_PRODUCT_QUOTE:{Component:function(e){var t,n,a=e.form,r=function(){var e=Object(d.useState)([]),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)(!0),i=Object(W.a)(r,2),c=i[0],s=i[1],l=Object(d.useState)(),b=Object(W.a)(l,2),m=b[0],p=b[1],f=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vn();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(e.t0);case 10:s(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){f()}),[]),{error:m,loading:c,productQuotes:n}}(),i=r.productQuotes,c=Object(q.d)(),s=c.control,l=c.setValue,b=null===a||void 0===a||null===(t=a.basics)||void 0===t?void 0:t.productId,m=Object(d.useContext)($n).state.dimensions.device.isMobile;Object(d.useEffect)((function(){if(b&&i.length){var e=i.find((function(e){return e.id===b}));l("basics.productName",e.title)}}),[b,i]);var p=Object(d.useCallback)((function(){l("basics.productId",b,{shouldValidate:!0})}),[]);Object(d.useEffect)((function(){p()}),[p]);var f=We(),j=f.isSelected,v=f.updateState;return Object(x.jsx)("div",{className:"card-content d-flex",children:Object(x.jsxs)("div",{className:"col-12 d-flex flex-wrap p-0",children:[Object(x.jsx)("div",{className:Le()("mb-4 d-flex col-12",{"d-flex justify-content-start":!m,"justify-content-sm-center justify-content-center":m}),children:Object(x.jsx)("label",{className:Le()("d-flex font-weight-bolder",{"text-paragraph justify-content-start":!m,"text-paragraph-lg justify-content-sm-center justify-content-center":m}),children:"Select a product to quote."})}),Object(x.jsx)("fieldset",{className:"d-flex flex-column mb-4 spacer-3",id:"productQuote",children:Object(x.jsx)(q.a,{control:s,defaultValue:null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.productId,name:"basics.productId",render:function(e){var t=e.field;return i.map((function(e){var n;return Object(d.createElement)(bn,Object(H.a)(Object(H.a)({},t),{},{description:e.description,key:e.id,label:e.title,renderActions:e.template.allowed&&Object(x.jsx)(Ze,{callback:function(){return v(e.id)},event:Ce,selected:j(e.id),value:{inputName:t.name,templateName:e.template.name,value:e.id}}),selected:e.id===(null===a||void 0===a||null===(n=a.basics)||void 0===n?void 0:n.productId),sideLabel:e.period,value:e.id}))}))},rules:{required:!0}})})]})})},active:!0,id:"BASICS_PRODUCT_QUOTE",index:0,section:"basics",subsection:"product-quote",title:"Welcome! Select a product."},BUSINESS:{Component:function(e){var t,n,a,r,i,c,s,o,l,u=e.form,b=We(),m=b.isSelected,p=b.updateState,f=Object(q.d)(),j=f.control,v=f.getValues,O=f.setValue,h=Object(d.useContext)($n).dispatch,S=null===u||void 0===u||null===(t=u.basics)||void 0===t?void 0:t.properties,y=Tt(),E=y.getMobileSubSection,g=y.mobileContainerProps,N=y.nextStep;return Object(d.useEffect)((function(){O(_n("hasAutoPolicy"),v(_n("hasAutoPolicy")),{shouldValidate:!0})}),[]),Object(d.useEffect)((function(){var e=function(e,t){return e?"":t};h({payload:[e(nn(null===S||void 0===S?void 0:S.naics),Fn.PERCENT_OF_SALES_FROM_MERCHANDISE),e(an(null===S||void 0===S?void 0:S.naics),Fn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND),e(rn(null===S||void 0===S?void 0:S.segment),Fn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY)].filter(Boolean),type:Jn.SET_MOBILE_SUBSECTION_DISABLE})}),[h,S]),Object(x.jsxs)("div",{className:"card-content",children:[Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.YEAR_OF_INDUSTRY_EXPERIENCE),children:Object(x.jsx)(hn,{control:j,label:Fn.YEAR_OF_INDUSTRY_EXPERIENCE,moreInfoProps:{callback:function(){return p(_n("yearsOfExperience"))},event:Ce,selected:m(_n("yearsOfExperience")),value:{inputName:_n("yearsOfExperience"),templateName:"years-of-industry-experience",value:null===u||void 0===u||null===(n=u.business)||void 0===n?void 0:n.yearsOfExperience}},name:_n("yearsOfExperience"),rules:{min:{message:"Must be equal or greater than 0.",value:0},required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE),children:Object(x.jsx)(In,{control:j,label:Fn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE,name:_n("hasStoredCustomerInformation"),onSelect:N,rules:{required:!0}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.DO_YOU_HAVE_RAYLIFE_POLICY),children:Object(x.jsx)(In,{control:j,label:Fn.DO_YOU_HAVE_RAYLIFE_POLICY,name:_n("hasAutoPolicy"),onSelect:N,rules:{required:!0}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.LEGAL_ENTITY),children:Object(x.jsx)(yn,{control:j,inputProps:{className:"mb-5"},label:Fn.LEGAL_ENTITY,name:_n("legalEntity"),rules:{required:"This field is required."}})})),nn(null===u||void 0===u||null===(a=u.basics)||void 0===a||null===(r=a.properties)||void 0===r?void 0:r.naics)&&Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.PERCENT_OF_SALES_FROM_MERCHANDISE),children:Object(x.jsx)(Sn,{control:j,label:Fn.PERCENT_OF_SALES_FROM_MERCHANDISE,moreInfoProps:{callback:function(){return p(_n("salesMerchandise"))},event:Ce,selected:m(_n("salesMerchandise")),value:{inputName:_n("salesMerchandise"),templateName:"percent-of-sales-from-used-merchandise",value:null===u||void 0===u||null===(i=u.business)||void 0===i?void 0:i.salesMerchandise}},name:_n("salesMerchandise"),rules:{pattern:{message:"Value must not be greater than 100%.",value:bt},required:"Percent of sales is required."}})})),an(null===u||void 0===u||null===(c=u.basics)||void 0===c||null===(s=c.properties)||void 0===s?void 0:s.naics)&&Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND),children:Object(x.jsx)(In,{control:j,label:Fn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND,name:_n("hasSellProductsUnderOwnBrand"),onSelect:N,rules:{required:!0}})})),rn(null===u||void 0===u||null===(o=u.basics)||void 0===o||null===(l=o.properties)||void 0===l?void 0:l.segment)&&Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},g),{},{mobileSubSection:E(Fn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY),children:Object(x.jsx)(Sn,{control:j,label:Fn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY,name:_n("overallSales"),rules:{pattern:{message:"Value must not be greater than 100%.",value:bt},required:"Percent of overall sales is required."}})}))]})},active:!0,id:"BUSINESS",index:3,mobileSubSections:[{active:!0,hideInputLabel:!0,title:Fn.YEAR_OF_INDUSTRY_EXPERIENCE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:Fn.DO_YOU_STORE_PERSONALITY_IDENTIFIABLE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:Fn.DO_YOU_HAVE_RAYLIFE_POLICY},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.LEGAL_ENTITY},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.PERCENT_OF_SALES_FROM_MERCHANDISE},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:Fn.DO_YOU_SELL_PRODUCTS_UNDER_OWN_BRAND},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.WHAT_PERCENTAGE_OF_OVERALL_INVOLVE_DELIVERY}],section:"business",subsection:"",title:"Let's get to know your business!"},EMPLOYEES:{Component:function(e){var t,n,a,r=e.form,i=Object(q.d)(),c=i.control,s=i.getValues,o=i.setValue,l=Tt(),u=l.getMobileSubSection,b=l.mobileContainerProps,m=l.nextStep;Object(d.useEffect)((function(){o(Rn("businessOperatesYearRound"),s(Rn("businessOperatesYearRound")),{shouldValidate:!0})}),[]);var p,f=We(),j=f.isSelected,v=f.updateState;return Object(x.jsxs)("div",{className:"card-content",children:[Object(x.jsxs)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER),children:[Object(x.jsx)("div",{className:"mb-4",children:Object(x.jsx)(In,{control:c,inputProps:{onChange:function(e){Vn.EMPLOYEES.mobileSubSections.map((function(e){e.title===Fn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER&&(e.hideContinueButton=!1)})),o(Rn("hasFein"),e,{shouldValidate:!0}),"false"===e&&o(Rn("fein"),"")}},label:b.isMobile?"":Fn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER,name:Rn("hasFein"),rules:{required:!0}})}),Object(x.jsx)(wn,{control:c,label:Fn.FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER,moreInfoProps:{callback:function(){return v(Rn("fein"))},event:Ce,selected:j(Rn("fein")),value:{inputName:Rn("fein"),templateName:"federal-employer-identification-number",value:null===r||void 0===r||null===(t=r.employees)||void 0===t?void 0:t.fein}},name:Rn("fein"),renderInput:(p=null===r||void 0===r||null===(n=r.employees)||void 0===n?void 0:n.hasFein,"true"===p),rules:{required:"FEIN is required."}})]})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.YEAR_BUSINESS_STARTED),children:Object(x.jsx)(Ln,{control:c,label:Fn.YEAR_BUSINESS_STARTED,name:Rn("startBusinessAtYear"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.BUSINESS_YEAR_OPERATION),children:Object(x.jsx)(In,{control:c,label:Fn.BUSINESS_YEAR_OPERATION,name:Rn("businessOperatesYearRound"),onSelect:m,rules:{required:!0}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.EMPLOYEES_AMOUNT),children:Object(x.jsx)(hn,{control:c,label:Fn.EMPLOYEES_AMOUNT,moreInfoProps:{callback:function(){return v(Rn("partTimeEmployees"))},event:Ce,selected:j(Rn("partTimeEmployees")),value:{inputName:Rn("partTimeEmployees"),templateName:"full-or-part-time-employees",value:null===r||void 0===r||null===(a=r.employees)||void 0===a?void 0:a.partTimeEmployees}},name:Rn("partTimeEmployees"),rules:{min:{message:"You must have at least one employee.",value:1},required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.BUSINESS_ANUAL_GROSS_REVENUE),children:Object(x.jsx)(Cn,{control:c,label:Fn.BUSINESS_ANUAL_GROSS_REVENUE,name:Rn("estimatedAnnualGrossRevenue"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.OWNERS_ANNUAL_PAYROLL),children:Object(x.jsx)(Cn,{control:c,label:Fn.OWNERS_ANNUAL_PAYROLL,name:Rn("annualPayrollForOwner"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},b),{},{mobileSubSection:u(Fn.EMPLOYEES_ANNUAL_PAYROLL),children:Object(x.jsx)(Cn,{control:c,label:Fn.EMPLOYEES_ANNUAL_PAYROLL,name:Rn("annualPayrollForEmployees"),rules:{required:"This field is required"}})}))]})},active:!1,id:"EMPLOYEES",index:4,mobileSubSections:[{active:!0,hideContinueButton:!0,hideInputLabel:!1,title:Fn.BUSINESS_FEDERAL_EMPLOYER_IDENTIFICATION_NUMBER},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.YEAR_BUSINESS_STARTED},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:Fn.BUSINESS_YEAR_OPERATION},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.EMPLOYEES_AMOUNT},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.BUSINESS_ANUAL_GROSS_REVENUE},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.OWNERS_ANNUAL_PAYROLL},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.EMPLOYEES_ANNUAL_PAYROLL}],section:"employees",subsection:"",title:"Tell us about your employees!"},PROPERTY:{Component:function(e){var t,n,a,r,i,c,s,o,l,u,b=e.form,m=We(),p=m.isSelected,f=m.updateState,j=Object(q.d)(),v=j.control,O=j.getValues,h=j.setValue,S=Object(d.useContext)($n).dispatch,y=null===b||void 0===b||null===(t=b.basics)||void 0===t?void 0:t.properties,E=Tt(),g=E.getMobileSubSection,N=E.mobileContainerProps,I=E.nextStep;return Object(d.useEffect)((function(){var e,t;h(Dn("doOwnBuildingAtAddress"),O(Dn("doOwnBuildingAtAddress")),{shouldValidate:!0}),cn(null===b||void 0===b||null===(e=b.basics)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.segment.toLowerCase())||Vn.PROPERTY.mobileSubSections.map((function(e){e.title===Fn.PRIMARY_LOCATION&&(e.hideContinueButton=!1)}))}),[]),Object(d.useEffect)((function(){var e,t;S({payload:[(e=cn(null===y||void 0===y?void 0:y.segment.toLowerCase()),t=Fn.PREMISES,e?"":t)].filter(Boolean),type:Jn.SET_MOBILE_SUBSECTION_DISABLE})}),[S,y]),Object(x.jsxs)("div",{className:"card-content",children:[Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{hasAddress:"".concat(b.basics.businessInformation.business.location.address,"?"),mobileSubSection:g(Fn.DO_YOU_OWN_THE_BUILDING_AT),children:Object(x.jsx)(In,{control:v,label:"Do you own the building at ".concat(b.basics.businessInformation.business.location.address,"?"),name:Dn("doOwnBuildingAtAddress"),onSelect:I,rules:{required:!0}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.HOW_MANY_STORIES_IS_THIS_BUILDING),children:Object(x.jsx)(hn,{control:v,label:Fn.HOW_MANY_STORIES_IS_THIS_BUILDING,name:Dn("stories"),rules:{min:{message:"Must be equal or greater than 0.",value:0},required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING),children:Object(x.jsx)(Bn,{control:v,label:Fn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING,moreInfoProps:{callback:function(){return f(Dn("buildingSquareFeetOccupied"))},event:Ce,selected:p(Dn("buildingSquareFeetOccupied")),value:{inputName:Dn("buildingSquareFeetOccupied"),templateName:"building-square-footage",value:null===b||void 0===b||null===(n=b.property)||void 0===n?void 0:n.buildingSquareFeetOccupied}},name:Dn("buildingSquareFeetOccupied"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING),children:Object(x.jsx)(Bn,{control:v,label:Fn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING,name:Dn("totalBuildingSquareFeet"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED),children:Object(x.jsx)(Ln,{control:v,label:Fn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED,moreInfoProps:{callback:function(){return f(Dn("yearBuilding"))},event:Ce,selected:p(Dn("yearBuilding")),value:{inputName:Dn("yearBuilding"),templateName:"year-constructed",value:null===b||void 0===b||null===(a=b.property)||void 0===a?void 0:a.yearBuilding}},name:Dn("yearBuilding"),rules:{required:"This field is required"}})})),Object(x.jsx)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.PRIMARY_LOCATION),children:Object(x.jsx)(In,{control:v,label:Fn.PRIMARY_LOCATION,moreInfoProps:{callback:function(){return f(Dn("isPrimaryBusinessLocation"))},event:Ce,selected:p(Dn("isPrimaryBusinessLocation")),value:{inputName:Dn("isPrimaryBusinessLocation"),templateName:"primary-location",value:null===b||void 0===b||null===(r=b.property)||void 0===r?void 0:r.isPrimaryBusinessLocation}},name:Dn("isPrimaryBusinessLocation"),onSelect:cn(null===b||void 0===b||null===(i=b.basics)||void 0===i||null===(c=i.properties)||void 0===c?void 0:c.segment.toLowerCase())?I:null,rules:{required:!0}})})),cn(null===b||void 0===b||null===(s=b.basics)||void 0===s||null===(o=s.properties)||void 0===o?void 0:o.segment.toLowerCase())&&Object(x.jsxs)(Lt,Object(H.a)(Object(H.a)({},N),{},{mobileSubSection:g(Fn.PREMISES),children:[Object(x.jsx)("div",{className:"mb-4",children:Object(x.jsx)(In,{control:v,inputProps:{onChange:function(e){Vn.PROPERTY.mobileSubSections.map((function(e){e.title===Fn.PREMISES&&(e.hideContinueButton=!1)})),h(Dn("isThereSwimming"),e,{shouldValidate:!0}),"false"===e&&h(Dn("isThereDivingBoards"),"")}},label:Fn.SWIMMING_POOL,name:Dn("isThereSwimming"),rules:{required:!0}})}),(u=null===b||void 0===b||null===(l=b.property)||void 0===l?void 0:l.isThereSwimming,("true"===u||!0===u)&&Object(x.jsx)(In,{control:v,label:Fn.DIVING_BOARDS,name:Dn("isThereDivingBoards"),rules:{required:!0}}))]}))]})},active:!1,id:"PROPERTY",index:5,mobileSubSections:[{active:!0,hideContinueButton:!0,hideInputLabel:!0,title:Fn.DO_YOU_OWN_THE_BUILDING_AT},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.HOW_MANY_STORIES_IS_THIS_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.HOW_MANY_SQUARE_FEET_OF_THE_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.HOW_MANY_TOTAL_SQUARE_FEET_IS_THE_BUILDING},{active:!1,hideContinueButton:!1,hideInputLabel:!0,title:Fn.WHAT_YEAR_WAS_THE_BUILDING_CONSTRUCTED},{active:!1,hideContinueButton:!0,hideInputLabel:!0,title:Fn.PRIMARY_LOCATION},{active:!1,hideContinueButton:!1,hideInputLabel:!1,title:Fn.PREMISES}],section:"property",subsection:"",title:"More about"}},Wn=Object.values(Vn).sort((function(e,t){return e.index-t.index})),Hn={key:"incomplete",name:"Incomplete"},Gn={key:"open",name:"Open"},zn={key:"quoted",name:"Quoted"},Kn={dimensions:{device:{}},percentage:(Mn={},Object(Oe.a)(Mn,Vn.BASICS_BUSINESS_INFORMATION.section,0),Object(Oe.a)(Mn,Vn.BUSINESS.section,0),Object(Oe.a)(Mn,Vn.EMPLOYEES.section,0),Object(Oe.a)(Mn,Vn.PROPERTY.section,0),Mn),selectedProduct:null===(Un=JSON.parse(ue.getItem(de)))||void 0===Un||null===(Yn=Un.basics)||void 0===Yn?void 0:Yn.businessCategoryId,selectedTrigger:"",steps:Wn,taxonomyVocabulary:{}},Jn={SET_DIMENSIONS:"SET_DIMENSIONS",SET_MOBILE_SUBSECTION_ACTIVE:"SET_MOBILE_SUBSECTION_ACTIVE",SET_MOBILE_SUBSECTION_DISABLE:"SET_MOBILE_SUBSECTION_DISABLE",SET_PERCENTAGE:"SET_PERCENTAGE",SET_SELECTED_PRODUCT:"SET_SELECTED_PRODUCT",SET_SELECTED_TRIGGER:"SET_SELECTED_TRIGGER",SET_STEP_ACTIVE:"SET_STEP_ACTIVE",SET_TAXONOMY_VOCABULARY:"SET_TAXONOMY_VOCABULARY"};function Qn(e,t){switch(t.type){case Jn.SET_DIMENSIONS:return Object(H.a)(Object(H.a)({},e),{},{dimensions:t.payload});case Jn.SET_PERCENTAGE:return Object(H.a)(Object(H.a)({},e),{},{percentage:t.payload});case Jn.SET_SELECTED_TRIGGER:return Object(H.a)(Object(H.a)({},e),{},{selectedTrigger:t.payload});case Jn.SET_SELECTED_PRODUCT:return Object(H.a)(Object(H.a)({},e),{},{selectedProduct:t.payload});case Jn.SET_MOBILE_SUBSECTION_ACTIVE:return Object(H.a)(Object(H.a)({},e),{},{steps:e.steps.map((function(e){var n=e.mobileSubSections;if(e.active&&Array.isArray(n)){var a=n.findIndex((function(e){return e.active})),r=t.payload.nextStep?a+1:a-1;return Object(H.a)(Object(H.a)({},e),{},{mobileSubSections:n.map((function(e,t){return Object(H.a)(Object(H.a)({},e),{},{active:t===r})}))})}return e}))});case Jn.SET_MOBILE_SUBSECTION_DISABLE:var n=t.payload;return Object(H.a)(Object(H.a)({},e),{},{steps:e.steps.map((function(e){var t=e.mobileSubSections;return Array.isArray(t)?Object(H.a)(Object(H.a)({},e),{},{mobileSubSections:t.filter((function(e){return!(Array.isArray(n)?n.includes(e.title):n===e.title)}))}):e}))});case Jn.SET_STEP_ACTIVE:return Object(H.a)(Object(H.a)({},e),{},{steps:e.steps.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{active:e.id===t.payload.id})}))});case Jn.SET_TAXONOMY_VOCABULARY:return Object(H.a)(Object(H.a)({},e),{},{taxonomyVocabulary:t.payload});default:return e}}var $n=Object(d.createContext)({});function Xn(e){var t,n=e.children,a=Ae(),r=Object(d.useReducer)(Qn,Kn),i=Object(W.a)(r,2),c=i[0],s=i[1],o=c.steps.find((function(e){return e.active}));return Object(d.useEffect)((function(){var e=function(){return s({payload:"",type:Jn.SET_SELECTED_TRIGGER})};return window.addEventListener(Te,e),function(){return window.removeEventListener(Te,e)}}),[]),Object(d.useEffect)((function(){B.get("o/headless-admin-taxonomy/v1.0/sites/".concat(v.ThemeDisplay.getCompanyGroupId(),"/taxonomy-vocabularies?filter=name eq '").concat("Raylife Industry Type","'")).then((function(e){var t=e.data;return s({payload:t.items[0],type:Jn.SET_TAXONOMY_VOCABULARY})})).catch((function(e){return console.error(e)}))}),[]),Object(d.useEffect)((function(){s({payload:a,type:Jn.SET_DIMENSIONS})}),[a]),Object(x.jsx)($n.Provider,{value:{dispatch:s,state:Object(H.a)(Object(H.a)({},c),{},{activeMobileSubSection:null===(t=o.mobileSubSections)||void 0===t?void 0:t.find((function(e){var t=e.active,n=e.blocked;return t&&!(void 0!==n&&n)})),selectedStep:o})},children:n})}var Zn="o/c/raylifeapplications";var ea=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,e.next=3,U();case 3:return a=e.sent,r=a.access_token,sessionStorage.setItem("raylife-guest-permission-token",r),e.abrupt("return",B.patch("".concat(Zn,"/").concat(t),n,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ta(e,t){var n,a=ce.adaptToFormApplicationRequest(e,t),r=null===e||void 0===e||null===(n=e.basics)||void 0===n?void 0:n.applicationId;return r?ea(r,a):B.post("".concat(Zn,"/"),a)}function na(e,t){var n={applicationStatus:{key:null===t||void 0===t?void 0:t.key,name:null===t||void 0===t?void 0:t.name}};return ea(e,n)}var aa=sn(),ra=function(e){var t=e.children,n=e.initialValues,a=aa.applicationId?n:function(){var e=ue.getItem(de);return aa.backToEdit&&e?JSON.parse(e):{}}(),r=Object(q.c)({defaultValues:a,mode:"onChange"});return Object(x.jsx)(y,{children:Object(x.jsx)(Xn,{children:Object(x.jsx)(Xe,{children:Object(x.jsx)(q.b,Object(H.a)(Object(H.a)({},r),{},{children:Object(x.jsx)(G,{children:t})}))})})})},ia=function(e){var t=e.children,n=Object(d.useState)(null),a=Object(W.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(!1),s=Object(W.a)(c,2),l=s[0],b=s[1],m=aa.applicationId,p=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),t={},e.prev=2,!m){e.next=9;break}return e.next=6,r=m,B.get("".concat(Zn,"/").concat(r));case 6:n=e.sent,a=n.data,t=ce.adaptToRaylifeApplicationToForm(a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:i(t),b(!1);case 16:case"end":return e.stop()}var r}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){p()}),[]),l?null:Object(x.jsx)(ra,{initialValues:r,children:t})},ca="o/c/quoteretrieves";function sa(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(o.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return n=e.sent,a=n.access_token,e.abrupt("return",B.post("".concat(ca,"/scopes/").concat(v.ThemeDisplay.getScopeGroupId()),t,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var la=O(),ua=function(e){var t=e.email,n=e.isMobileDevice,a=void 0!==n&&n,r=e.onClose,i=e.productQuote,c=e.setError,s=e.show,l=Object(q.d)().control._fields,b=Object(d.useContext)($n).state.selectedStep,m=function(){var e=Object(o.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ue.getItem(be),e.next=4,sa({productName:i,quoteRetrieveLink:"".concat(origin).concat(la,"/get-a-quote?applicationId=").concat(n),retrieveEmail:t});case 4:return a=Gn,Vn.BASICS_BUSINESS_INFORMATION.index!==b.index&&(a=Hn),Vn.BUSINESS.index===b.index&&0===K((null===l||void 0===l?void 0:l.business)||{})&&(a=Gn),Vn.EMPLOYEES.index===b.index&&0===K((null===l||void 0===l?void 0:l.employees)||{})&&(a=Gn),Vn.PROPERTY.index===b.index&&0===K((null===l||void 0===l?void 0:l.property)||{})&&(a=Gn),e.next=11,na(n,a);case 11:V(),h(ge),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),c("Unable to save your information. Please try again."),r();case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(Fe,{backdropLight:a,closeable:!a,footer:Object(x.jsxs)("div",{className:Le()("align-items-center d-flex flex-row ml-2 mr-1 mt-auto",{"flex-wrap justify-content-center":a,"justify-content-between":!a}),children:[Object(x.jsx)("button",{className:Le()("btn btn-link link text-link-md text-small-caps",{"mb-1 text-neutral-0":a,"text-neutral-7":!a}),onClick:r,children:"Continue Quote"}),Object(x.jsx)("button",{className:Le()("btn btn-primary rounded text-link-md text-small-caps",{"w-100":a}),onClick:m,children:"Send Link & Exit"})]}),onClose:r,show:s,size:a?"small-mobile":"medium",children:Object(x.jsx)("div",{className:Le()("align-items-center d-flex flex-column justify-content-between  progress-saved-content",{"mt-5":!a,"my-3":a}),children:Object(x.jsxs)("div",{className:"align-items-center d-flex flex-column progress-saved-body w-100",children:[Object(x.jsx)("div",{className:"align-items-center bg-success d-flex flex-shrink-0 justify-content-center progress-saved-icon rounded-circle",children:Object(x.jsx)(j.a,{symbol:"check"})}),Object(x.jsx)("h2",{className:"font-weight-bolder",children:"Your progress is saved"}),Object(x.jsxs)("div",{className:Le()("font-weight-normal pt-1 text-center  text-paragraph",{"text-neutral-0":a,"text-neutral-8":!a}),children:[Object(x.jsxs)("p",{children:["We will send a link to\xa0",Object(x.jsx)("b",{children:t}),"."]}),Object(x.jsx)("p",{children:"Use the link to pick up where you left off at any time."})]})]})})})};function da(){window.scroll({behavior:"smooth",left:0,top:0})}var ba=function(e){return e&&void 0!==e&&null!==e&&"true"===e};var ma=function(e){var t=e.errorMessage,n=void 0===t?"Unable to save your information. Please try again.":t,a=e.form,r=e.nextSection,i=e.previousSection,c=e.saveData,s=void 0!==c&&c,l=Object(d.useState)(),b=Object(W.a)(l,2),m=b[0],p=b[1],f=Object(q.d)(),j=f.setError,v=f.setValue,O=on().setSection,x=Object(d.useContext)($n).state.selectedStep;Object(d.useEffect)((function(){if(m){v("basics.applicationId",m);var e=(new Date).toISOString().split("T")[0];v("basics.applicationCreateDate",e),ue.setItem(be,m)}}),[m]),Object(d.useEffect)((function(){ue.setItem(de,JSON.stringify(a))}),[a]);var S=Object(d.useCallback)((function(){var e=function(e,t){var n,a,r,i=null===e||void 0===e||null===(n=e.business)||void 0===n?void 0:n.hasSellProductsUnderOwnBrand,c=null===e||void 0===e||null===(a=e.employees)||void 0===a?void 0:a.hasFein,s=null===e||void 0===e||null===(r=e.property)||void 0===r?void 0:r.isThereDivingBoards,o="";return ba(i)&&"employees"===(null===t||void 0===t?void 0:t.section)?o="We need to ask you for more information about your business.":ba(c)||"property"!==(null===t||void 0===t?void 0:t.section)?ba(s)&&(o="We need to ask you for more information about your business location."):o="We need to ask you for more information about your employees.",o}(a,r),t=!0;return e?(ue.setItem(fe,e),h(ye),t=!1):ue.removeItem(fe),t}),[a,r]),y=Object(d.useCallback)(Object(o.a)(u.a.mark((function e(){var t,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},s){e.next=3;break}return e.abrupt("return");case 3:return j("continueButton",{}),e.prev=4,e.next=7,ta(a,t);case 7:return r=e.sent,p(r.data.id),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(4),j("continueButton",{message:n||"There was an error processing your request. Please try again.",type:"manual"}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),[n,a,s,j]),E=Object(d.useCallback)(Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:i&&O(i),da();case 4:case"end":return e.stop()}}),e)}))),[y,i,O]);return{onNext:Object(d.useCallback)(Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Gn,Vn.PROPERTY.index===x.index&&(t=zn),e.next=4,y(t);case 4:if(V(),!S()){e.next=11;break}if(!r){e.next=10;break}return O(r),e.abrupt("return",da());case 10:h(Ee);case 11:case"end":return e.stop()}}),e)}))),[S,r,x,y,O]),onPrevious:E,onSave:y}},pa=function(e,t){var n=Object(d.useContext)($n),a=n.dispatch,r=n.state.selectedStep,i=r.index,c=r.mobileSubSections,s=Array.isArray(c),o=null===c||void 0===c?void 0:c.findIndex((function(e){return e.active})),l=function(e){a({payload:{nextStep:e},type:Jn.SET_MOBILE_SUBSECTION_ACTIVE})};return Object(H.a)(Object(H.a)({},e),{},{onNext:function(){if(s&&o!==c.length-1)return l(!0);e.onNext()},onPrevious:function(){return 0!==i||s?o&&s?l(!1):void e.onPrevious():t()}})},fa=function(){V(),h(ge),Storage.removeItem(me)},ja=function(e){var t=Object(d.useContext)($n).state,n=t.dimensions.device.isMobile,a=t.selectedStep.index,r=void 0===a?0:a,i=ma(e),c=pa(i,fa);return n?c:Object(H.a)(Object(H.a)({},i),{},{onPrevious:function(){if(0!==r)return i.onPrevious();fa()}})},va=Object(d.createContext)(),Oa=function(e){var t,n,a,r=e.children,i=e.form,c=Object(d.useState)(!1),s=Object(W.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(),b=Object(W.a)(u,2),m=b[0],p=b[1],f=Object(q.d)(),j=f.formState,v=j.errors,O=j.isValid,h=f.getValues,S=f.setValue,y=Object(d.useState)(!1),E=Object(W.a)(y,2),g=E[0],N=E[1],I=Object(d.useContext)($n).state,_=I.activeMobileSubSection,A=I.dimensions.device.isMobile,C=I.selectedStep.index,T=void 0===C?0:C,w=I.steps,P=!(null===v||void 0===v||null===(t=v.basics)||void 0===t||null===(n=t.businessInformation)||void 0===n||null===(a=n.business)||void 0===a||!a.email),L=h("basics.businessInformation.business.email"),R=h("basics.productName"),k=ja({form:i,nextSection:w[T+1],previousSection:w[T-1],saveData:T>1}),B=k.onNext,D=k.onPrevious,M=k.onSave;return Object(x.jsxs)(va.Provider,{value:{actionProps:{onClickSaveAndExit:function(){N(!0),M().then((function(){return l(!0)})).catch((function(e){return console.error(e)})).finally((function(){return N(!1)}))},onNext:B,onPrevious:D,onSave:M,onSaveDisabled:!L||P||g,showContinueButton:!A||null===_||void 0===_||!_.hideContinueButton,showSaveAndExit:B&&T>=2},errorModal:m,isMobileDevice:A,isValid:O,setShowProgressModal:l},children:[r,Object(x.jsx)(ua,{email:L,isMobileDevice:A,onClose:function(){l(!1),S("basics.businessInformation.business.email",L,{shouldValidate:!0})},productQuote:R,setError:function(e){return p(e)},show:o})]})};function ha(e){var t=e.children;return Object(x.jsx)("div",{className:"col-12",children:Object(x.jsx)(un.a,{className:"d-flex flex-column m-auto m-lg-0 px-3 px-lg-6 px-md-6 px-sm-3 py-5 py-lg-6 py-md-6 py-sm-5 rounded shadow-lg",children:t})})}function xa(e){var t=e.form,n=e.formActionContext.isMobileDevice,a=on(),r=a.selectedStep,i=a.setSection,c=Object(d.useState)(!1),s=Object(W.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(!1),b=Object(W.a)(u,2),m=b[0],p=b[1],f=sn().backToEdit;Object(d.useEffect)((function(){!o&&t&&l(!0)}),[t]),Object(d.useEffect)((function(){if(f)return j();p(!0)}),[o]);var j=function(){var e,n,a=Object.keys(t).filter((function(e){return"raylife-form-input"!==e}));switch(null===(e=a[a.length-1])||void 0===e?void 0:e.toLowerCase()){case"basics":var r=null===(n=Object.keys(null===t||void 0===t?void 0:t.basics)[Object.keys(null===t||void 0===t?void 0:t.basics).length-1])||void 0===n?void 0:n.toLowerCase();i("businessInformation"===r?Vn.BASICS_BUSINESS_INFORMATION:"business-type"===r?Vn.BASICS_BUSINESS_TYPE:Vn.BASICS_PRODUCT_QUOTE);break;case"business":i(Vn.BUSINESS);break;case"employees":i(Vn.EMPLOYEES);break;case"property":i(Vn.PROPERTY)}p(!0)};if(!o||!m)return null;var v=(null===r||void 0===r?void 0:r.Component)||function(){return Object(x.jsx)(x.Fragment,{})};return Object(x.jsx)(v,{form:t,isMobile:n})}function Sa(e){var t=e.isMobileDevice,n=e.isValid,a=void 0===n||n,r=e.onClickSaveAndExit,i=e.onNext,c=e.onPrevious,s=e.onSaveDisabled,o=e.showContinueButton,l=e.showSaveAndExit;return Object(x.jsxs)("div",{className:Le()("d-flex justify-content-between",{"mt-5":!t}),children:[!t&&c&&Object(x.jsx)($t.a,{className:"btn-borderless btn-style-neutral font-weight-bolder previous text-paragraph text-small-caps",displayType:"null",onClick:c,children:"Previous"}),Object(x.jsxs)("div",{className:Le()("d-flex",{"w-100":t}),children:[!t&&l&&Object(x.jsx)($t.a,{className:"font-weight-bolder mr-3 save-exit text-paragraph text-small-caps",disabled:s,displayType:"secondary",onClick:r,children:"Save & Exit"}),i&&o&&Object(x.jsxs)($t.a,{className:Le()("btn-solid btn-style-secondary continue font-weight-bolder text-paragraph text-small-caps",{"w-100":t}),disabled:!a,onClick:i,children:["Continue",Object(x.jsx)("span",{className:"inline-item inline-item-before ml-1",children:Object(x.jsx)(j.a,{symbol:"angle-right"})})]})]})]})}function ya(e){var t=e.onClickSaveAndExit,n=e.onPrevious,a=e.onSaveDisabled,r=e.showSaveAndExit;return Object(x.jsxs)("div",{className:"d-flex justify-content-between mx-0 row",children:[n&&Object(x.jsx)($t.a,{className:"btn-borderless font-weight-bolder previous text-neutral-0 text-paragraph text-small-caps",displayType:"style-neutral",onClick:n,children:"Previous"}),Object(x.jsx)("div",{className:"d-flex",children:r&&Object(x.jsx)($t.a,{className:"btn btn-ghost btn-inverted font-weight-bolder mr-3 save-exit text-neutral-0 text-paragraph text-small-caps",disabled:a,displayType:"style-neutral",onClick:t,children:"Save & Exit"})})]})}var Ea=function(e){var t=e.displayError,n=e.isMobileDevice;if(!t)return null;var a=function(){return Object(x.jsx)(nt,{children:t})};return n?Object(x.jsx)("div",{className:"mb-5",children:Object(x.jsx)(a,{})}):Object(x.jsx)(a,{})},ga=function(e){var t,n=e.formActionContext,a=n.actionProps,r=n.errorModal,i=n.isMobileDevice,c=n.isValid,s=Object(q.d)().formState.errors;return Object(x.jsxs)("div",{className:Le()({"col-12 mt-5 px-0":i,hide:!a.showContinueButton&&i}),children:[Object(x.jsx)(Ea,{displayError:(null===s||void 0===s||null===(t=s.continueButton)||void 0===t?void 0:t.message)||r,isMobileDevice:i}),Object(x.jsx)(Sa,Object(H.a)(Object(H.a)({},a),{},{isMobileDevice:i,isValid:c}))]})},Na=function(e){var t=e.formActionContext,n=t.actionProps,a=t.isMobileDevice;return Object(x.jsx)("div",{className:"col-12 mt-5",children:a&&Object(x.jsx)(ya,Object(H.a)({},n))})},Ia=function(e){var t=e.form,n=Object(d.useContext)($n).state.selectedStep.index;return Object(x.jsx)(Oa,{form:t,children:Object(x.jsx)(va.Consumer,{children:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(ha,{children:[Object(x.jsx)(xa,{currentStepIndex:n,form:t,formActionContext:e}),Object(x.jsx)(ga,{formActionContext:e})]}),Object(x.jsx)(Na,{formActionContext:e})]})}})})};function _a(e){var t=e.className,n=e.diameter,a=void 0===n?24:n,r=e.percent,i=void 0===r?0:r,c=e.strokeColor,s=void 0===c?"#4C85FF":c,o=e.strokeWidth,l=void 0===o?2:o,u=a/2,d=u-2*l,b=(u-l)/2;return Object(x.jsx)("svg",{className:t,height:a,width:a,children:Object(x.jsx)("circle",{className:"progress",cx:b,cy:b,fill:"transparent",r:d,stroke:s,strokeLinecap:"round",strokeWidth:l,style:{strokeDasharray:"".concat(Q(d)," ").concat(Q(d)),strokeDashoffset:$(i,Q(d))}})})}function Aa(e){var t=e.children,n=e.isMobile,a=void 0!==n&&n,r=e.onClick,i=e.percentage,c=void 0===i?0:i,s=e.selected,o=void 0!==s&&s,l=100===c,u=0!==c;return Object(x.jsxs)("div",{className:Le()("align-items-center d-flex font-weight-bolder step-item text-paragraph-lg",{completed:l,partially:u,selected:o,"text-brand-primary":o||u}),onClick:u&&!a?r:void 0,children:[Object(x.jsx)("i",{className:"align-items-center justify-content-center position-relative",children:u&&Object(x.jsx)(_a,{className:"position-absolute progress-ring",diameter:32,percent:c,strokeWidth:3})}),l&&Object(x.jsx)("div",{className:"align-items-center bg-brand-primary d-flex justify-content-center",children:Object(x.jsx)(j.a,{className:"m-0 text-neutral-0",symbol:"check"})}),t]})}function Ca(e){var t=e.children;return Object(x.jsx)("div",{className:"c-mr-6 c-mt-10 d-flex flex-column step-list",children:t})}function Ta(){var e=on(),t=e.selectedStep.section,n=e.setSection,a=Object(d.useContext)($n).state,r=a.dimensions.device.isMobile,i=a.percentage;return Object(x.jsxs)(Ca,{children:[Object(x.jsx)(Aa,{isMobile:r,onClick:function(){ue.setItem(pe,!0),n(Vn.BASICS_PRODUCT_QUOTE)},percentage:i[Vn.BASICS_PRODUCT_QUOTE.section],selected:t===Vn.BASICS_PRODUCT_QUOTE.section,children:"Basics"}),Object(x.jsx)(Aa,{isMobile:r,onClick:function(){return n(Vn.BUSINESS)},percentage:i[Vn.BUSINESS.section],selected:t===Vn.BUSINESS.section,children:"Business"}),Object(x.jsx)(Aa,{isMobile:r,onClick:function(){return n(Vn.EMPLOYEES)},percentage:i[Vn.EMPLOYEES.section],selected:t===Vn.EMPLOYEES.section,children:"Employees"}),Object(x.jsx)(Aa,{isMobile:r,onClick:function(){return n(Vn.PROPERTY)},percentage:i[Vn.PROPERTY.section],selected:t===Vn.PROPERTY.section,children:"Property"})]})}var wa=function(){var e=Object(q.e)(),t=on().selectedStep,n=We().updateState,a=Object(d.useContext)($n).state.dimensions.device.isMobile;return Object(d.useEffect)((function(){window.onbeforeunload=function(e){return e.preventDefault(),e.returnValue=F,F}})),Object(d.useEffect)((function(){n("")}),[t.section,t.subsection]),Object(d.useEffect)((function(){!function(e){var t,n;e&&(null===(n=document.querySelector("section#content"))||void 0===n||n.setAttribute("class","raylife-mobile")),null===(t=document.querySelector(".get-a-quote-structure .step-list"))||void 0===t||t.setAttribute("style",e?"overflow-x: auto; overflow-y: hidden; height: 39px;":"justify-content-center")}(a)}),[a]),Object(x.jsxs)("div",{className:"d-flex get-a-quote-structure justify-content-between",children:[Object(x.jsx)(Ta,{}),Object(x.jsxs)("main",{className:"d-flex flex-wrap justify-content-lg-start justify-content-md-center",children:[Object(x.jsxs)("h2",{className:"display-4 mb-6 mx-6 step-title",children:[t.title,Vn.PROPERTY.section===t.section&&Object(x.jsx)("span",{className:"primary",children:e.basics.businessInformation.business.location.address})]}),Object(x.jsx)(Ia,{form:e})]})]})},Pa=function(){return Object(x.jsx)(ia,{children:Object(x.jsx)(wa,{})})},La=["category","mostPopular","price","promo"],Ra=new Intl.NumberFormat("en-US",{currency:"USD"}),ka=function(e){return Le()("d-flex align-items-center",{checkIcon:!!e,"text-neutral-8 timesIcon":!e})},Ba=function(e){var t=e.aggregateLimit,n=e.businessPersonalProperty,a=e.moneyAndSecurities,r=[{title:"Per Occurrence Limit",value:e.perOccuranceLimit},{title:"Aggregate Limit",value:t},{title:"Business Personal Property",value:n},{title:"Product Recall or Replacement",value:e.productRecallOrReplacement},{title:"Money & Securities",value:a||!1}];return Object(x.jsx)("ul",{className:"m-0 p-0",children:r.map((function(e,t){var n=e.title,a=e.value,r=function(e){return"true"===e||"false"===e||"boolean"===typeof e?JSON.parse(e):"$".concat(Ra.format(e))}(a);return Object(x.jsxs)("li",{className:"d-flex font-weight-normal justify-content-between text-neutral-8 text-paragraph-sm",children:[Object(x.jsxs)("div",{className:ka(r),children:[Object(x.jsx)("div",{className:"inline-item inline-item-before",children:Object(x.jsx)("div",{className:Le()("align-items-center d-flex icon justify-content-center",{"border border-primary rounded-circle":!!a}),children:Object(x.jsx)(j.a,{className:Le()({"text-brand-primary ":!!a,"text-neutral-8":!a}),symbol:r?"check":"times",width:50})})}),Object(x.jsx)("span",{children:n})]}),r]},t)}))})},Da=function(e){var t=e.highlightMostPopularText,n=void 0===t?"Most Popular":t,a=e.isMobileDevice,r=void 0!==a&&a,i=e.onClickPolicyDetails,c=e.onClickPurchase,s=e.product,o=e.purchasable,l=void 0===o||o,u=JSON.parse(s.dataJSON),d=u.category,b=u.mostPopular,m=u.price,p=u.promo,f=Object(Re.a)(u,La),j=Number(p);return Object(x.jsxs)("div",{className:Le()("flex-shrink-0 rounded bg-neutral-0",{"col-12 mx-auto p-0":!l,"ml-auto":l&&!r,"mt-4":!b&&!r,"mx-2":r}),id:"quote-comparison-item",children:[Object(x.jsx)("div",{className:Le()("align-items-center d-flex header-size justify-content-center rounded-top",{"bg-brand-secondary ":b,"bg-neutral-0":!b}),children:b&&Object(x.jsx)("p",{className:"font-weight-bold text-paragraph text-small-caps text-white",children:n})}),Object(x.jsxs)("div",{className:"d-flex flex-column justify-content-between pb-5 pt-4 px-4 quote-content",children:[Object(x.jsxs)("div",{className:"quote-header text-center",children:[Object(x.jsx)("h4",{className:"font-weight-bolder text-brand-primary text-capitalize",children:d}),Object(x.jsxs)("div",{className:"d-flex display-3 flex-row font-weight-bolder justify-content-center text-neutral-10 value",children:[Object(x.jsxs)("span",{children:["$",Number(m).toLocaleString("en-US")]}),Object(x.jsx)("div",{className:"font-weight-light text-neutral-9",children:"/yr"})]}),Object(x.jsxs)("div",{className:"font-weight-normal m-auto mt-1 quote-subtitle text-neutral-8 text-paragraph-xs",children:[Object(x.jsx)("span",{children:"Minimum payment of "}),Object(x.jsx)(x.Fragment,{}),Object(x.jsxs)("span",{className:"text-brand-primary",children:["$",j%1===0?j:j.toFixed(2)," "]})," ","to get coverage today"]})]}),Object(x.jsx)("div",{className:Le()("quote-body",{"select-quote-mobile":!l}),children:Object(x.jsx)(Ba,Object(H.a)({},f))}),Object(x.jsxs)("div",{className:Le()("border-0 p-0",{"select-quote-mobile":!l}),children:[l&&Object(x.jsx)("div",{className:"bg-transparent d-flex justify-content-center",children:Object(x.jsx)($t.a,{className:Le()("px-4 py-3",{"btn-outline-primary":!b,"btn-primary":b}),displayType:null,id:"purchase",onClick:function(){return c(s)},children:"PURCHASE THIS POLICY"})}),Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsx)($t.a,{className:"bg-transparent border-0 font-weight-normal mt-3 p-0 text-capitalize text-neutral-8",displayType:"unstyled",id:"details",onClick:i,children:Object(x.jsx)("u",{children:"Policy Details"})})})]})]})]})},Ma=function(e){var t=e.cardElements,n=e.children,a=e.initialActiveIndex,r=void 0===a?1:a,i=e.isMobileDevice,c=e.items,s=void 0===c?[]:c,o=e.scrollableContainer,l=Object(d.useState)(r),u=Object(W.a)(l,2),b=u[0],m=u[1],p=Object(d.useState)(!0),f=Object(W.a)(p,2),j=f[0],v=f[1],O=Object(d.useCallback)((function(e){o.scrollTo(t[e].offsetLeft-(o.offsetWidth-t[e].offsetWidth)/2,0)}),[t,o]),h=Object(d.useCallback)((function(){o&&o.scrollTo((o.scrollWidth-o.offsetWidth)/2,0),v(!1)}),[o]);return Object(d.useEffect)((function(){return t&&(h(),window.addEventListener("resize",h)),function(){window.removeEventListener("resize",h)}}),[t,h]),Object(d.useEffect)((function(){var e=function(e){if(!j){var t,n=(e.scrollWidth-e.clientWidth)/s.length,a=s.map((function(e,t){return(t+1)*n})),r=Object(z.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!(e.scrollLeft>i))return m(a.indexOf(i))}}catch(c){r.e(c)}finally{r.f()}}};return o&&setTimeout((function(){j||o.addEventListener("scroll",(function(){e(o)}))}),1e3),function(){o&&o.removeEventListener("scroll",(function(){return e(o)}))}}),[j,o]),Object(x.jsxs)(x.Fragment,{children:[n,i&&Object(x.jsx)("div",{className:"d-flex justify-content-center quote-comparison-mobile",children:s.map((function(e,t){return Object(x.jsx)("div",{className:Le()("nav-button rounded",{"bg-brand-primary":b===t,"bg-neutral-2":b!==t}),onClick:function(){return O(t)}},t)}))})]})},Ua="o/c/raylifequotes",Ya=localStorage.getItem("raylife-application-id");function qa(){return(qa=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("".concat(Ua,"/?filter=raylifeApplicationId eq '").concat(Ya,"'"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e){return Va.apply(this,arguments)}function Va(){return(Va=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.get("".concat(Ua,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wa=function(){var e=Object(d.useState)([]),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Ae().device,i=r.isMobile,c=r.isTablet,s=i||c;Object(d.useEffect)((function(){document.querySelector("section#content #main-content .container-fluid").classList.add("quote-comparison-content"),function(){return qa.apply(this,arguments)}().then((function(e){return a(function(e){return e.sort((function(e,t){return JSON.parse(e.dataJSON).id-JSON.parse(t.dataJSON).id}))}(e.items))})).catch((function(e){return console.error(e.message)}))}),[]);var o=function(e){var t=e.id;ue.setItem(je,t),h(Ne)},l=function(){},u=document.querySelectorAll("#quote-comparison-item"),b=document.getElementById("quote-comparison-container");return Object(x.jsx)(Ma,{cardElements:u,isMobileDevice:s,items:n,scrollableContainer:b,children:Object(x.jsx)("div",{className:Le()("d-flex quote-comparison",{"mb-4":i,"mb-7":!i}),id:"quote-comparison-container",children:n.map((function(e,t){return Object(x.jsx)(Da,{isMobileDevice:s,onClickPolicyDetails:l,onClickPurchase:o,product:e},t)}))})})};function Ha(e,t){return B.get("".concat("o/headless-commerce-delivery-catalog","/v1.0/channels/").concat(e,"/products/").concat(t,"/skus"))}var Ga=Object(d.createContext)(),za=ue.getItem(je),Ka="SET_ACCOUNT_ID",Ja="SET_COMMERCE",Qa="SET_EXPANDED",$a="SET_ORDER_ID",Xa="SET_PRODUCT",Za="SET_SECTIONS",er="SET_STEP_CHECKED",tr={accountId:0,commerce:{channel:{},skus:[]},orderId:0,panel:{createAnAccount:{checked:!1,expanded:!0},selectPaymentMethod:{checked:!1,expanded:!1},uploadDocuments:{checked:!1,expanded:!1}},product:{},sections:[{error:!1,errorMessage:"Please upload a copy of your business license.",files:[],required:!0,sectionId:null,subtitle:"Upload a copy of your business license.",title:"Business License",type:"document"},{error:!1,files:[],required:!1,sectionId:null,subtitle:"Upload a copy of your additional documents.",title:"Additional Documents",type:"document"},{error:!1,errorMessage:"Please upload a photo of your building interior.",files:[],required:!0,sectionId:null,subtitle:"Upload at least 1 photo of your building interior.",title:"Building Interior Photos",type:"image"}]},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0,n=function(t,n,a){var r=Object(H.a)({},e.panel);return r[t][n]=null!==a&&void 0!==a?a:!r[t][n],r};switch(t.type){case Ja:return Object(H.a)(Object(H.a)({},e),{},{commerce:t.payload});case Qa:return Object(H.a)(Object(H.a)({},e),{},{panel:n(t.payload.panelKey,"expanded",t.payload.value)});case er:var a=n(t.payload.panelKey,"checked",t.payload.value);return Object(H.a)(Object(H.a)({},e),{},{panel:a});case Xa:return Object(H.a)(Object(H.a)({},e),{},{product:t.payload});case Ka:return Object(H.a)(Object(H.a)({},e),{},{accountId:t.payload});case Za:return Object(H.a)(Object(H.a)({},e),{},{sections:t.payload});case $a:return Object(H.a)(Object(H.a)({},e),{},{orderId:t.payload});default:return e}},ar=function(e){var t=e.children,n=Object(d.useReducer)(nr,tr),a=Object(W.a)(n,2),r=a[0],i=a[1],c=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(ue.getItem(de)),n=t.basics.productId,e.next=3,Promise.allSettled([B.get("".concat("o/headless-commerce-admin-channel","/v1.0/channels?search=").concat("Raylife Channel")),Fa(za)]);case 3:a=e.sent,r=Object(W.a)(a,2),c=r[0],s=r[1],Ha(c.value.data.items[0].id,n).then((function(e){i({payload:{channel:c.value.data.items[0],skus:e.data.items},type:Ja})})),i({payload:Object(H.a)(Object(H.a)({},s.value),{},{mostPopular:!0}),type:Xa});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){c()}),[]),Object(x.jsx)(Ga.Provider,{value:[r,i],children:t})},rr=function(e){var t=e.children,n=e.id,a=e.Middle,r=void 0===a?function(){return null}:a,i=e.Right,c=void 0===i?function(){return null}:i,s=e.title,o=void 0===s?"":s,l=e.titleNumber,u=void 0===l?"":l,b=e.hasError,m=void 0!==b&&b,p=Object(d.useContext)(Ga),f=Object(W.a)(p,1)[0].panel[n],j=f.checked,v=f.expanded,O=void 0!==v&&v,h=O||m;return Object(x.jsxs)("div",{className:"p-0 panel-container px-md-6 py-5 w-100",children:[Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-between panel-header px-0",children:[Object(x.jsxs)("div",{className:"d-flex font-weight-bolder h4 mb-0 order-first text-neutral-9",children:[Object(x.jsxs)("div",{className:"mr-1",children:[u,"."]}),Object(x.jsx)("span",{className:Le()("",{"break-title":"uploadDocuments"===n}),children:o})]}),Object(x.jsx)(r,{checked:j,expanded:O}),Object(x.jsx)(c,{checked:j,expanded:O})]}),Object(x.jsx)("div",{className:Le()("panel-content",{"d-block":h,"d-none":!h}),children:h&&t})]})},ir=function(e){var t=e.checked,n=e.expanded,a=e.hasError,r=t&&!(void 0!==a&&a)&&!n;return Object(x.jsx)("div",{className:"d-flex flex-row justify-content-end panel-right",children:Object(x.jsx)("div",{className:Le()("align-items-center d-flex icon justify-content-center rounded-circle",{"bg-neutral-3":!r,"bg-success":r}),children:Object(x.jsx)(j.a,{className:"text-neutral-0",symbol:"check"})})})},cr=function(e){var t=e.sections,n=void 0===t?[]:t;return n.length?Object(x.jsx)(x.Fragment,{children:n.map((function(e,t){if(e.files.length)return Object(x.jsxs)("div",{className:"mb-4 view-section",children:[Object(x.jsx)("h3",{className:"font-weight-bolder mb-2 text-neutral-8 text-paragraph-sm",children:e.title.toUpperCase()}),Object(x.jsx)("div",{className:"content d-flex flex-row",children:e.files.map((function(e,n){return e.type.includes("image")?Object(x.jsx)("div",{className:"image mr-2 rounded-xs",children:Object(x.jsx)("img",{alt:e.name,className:"rounded-xs",src:e.fileURL})},n):Object(x.jsx)("div",{className:"align-items-center bg-neutral-0 d-flex documents justify-content-center mr-2 rounded-xs",children:Object(x.jsx)(j.a,{className:e.icon,symbol:e.icon},t)},n)}))})]},t)}))}):null},sr=ue.getItem(be),or=function(){var e=Object(d.useContext)(Ga),t=Object(W.a)(e,1)[0].product;return Object(x.jsxs)("div",{className:"mt-4 mt-md-0 pt-0 quote-info",children:[t.id&&Object(x.jsx)(Da,{highlightMostPopularText:"Great Coverage",onClickPolicyDetails:function(){},product:t,purchasable:!1}),Object(x.jsxs)("div",{className:"font-weight-bolder mt-2 mt-lg-5 text-center text-lg-left text-uppercase",children:["Application ","#".concat(sr)]})]})},lr={noSpace:0,numberCharacter:0,qtdCharacter:0,samePassword:0,symbolCharacter:0,uniqueCharacter:0},ur="o/headless-admin-user";function dr(e,t,n,a,r){return br.apply(this,arguments)}function br(){return br=Object(o.a)(u.a.mark((function e(t,n,a,r,i){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=Object(o.a)(u.a.mark((function e(t,n){var a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/").concat(t),Object(H.a)(Object(H.a)({},n),{},{headers:{"Content-Type":"application/json","x-csrf-token":Liferay.authToken}}));case 2:if((a=e.sent).ok){e.next=10;break}return r=new Error("An error occurred while fetching the data."),e.next=7,a.json();case 7:throw r.info=e.sent,r.status=a.status,r;case 10:return e.next=12,a.json();case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s={alternateName:"".concat(a.split("@")[0]),emailAddress:a,familyName:n,givenName:t,password:r},e.abrupt("return",c("".concat(ur,"/v1.0/user-accounts?captchaText=").concat(i),{body:JSON.stringify(s),method:"POST"}));case 3:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}var mr=function(e){return e?1:2};function pr(){return(pr=Object(o.a)(u.a.mark((function e(t,n,a){var r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(oe("raylife-application-form")),i=r.basics.businessInformation,e.next=3,dr(i.firstName,i.lastName,t,n,a);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e,t){var n=Object(H.a)({},lr);if(e&&t&&(n.samePassword=t!==e?2:t===e?1:0),t){n.qtdCharacter=mr(t.length>=8);for(var a=new Set,r=0;r<t.length;r++){if(a.add(t.charAt(r)),a.size>=5){n.uniqueCharacter=1;break}n.uniqueCharacter=2}var i=new RegExp(ft);n.symbolCharacter=mr(i.test(t));var c=new RegExp(dt);n.numberCharacter=mr(c.test(t)),n.noSpace=mr(!t.includes(" "))}return n}var jr,vr=function(e){var t=e.captchaValue,n=e.setCaptchaValue,a=Object(d.useRef)(),r=function(){B.get("".concat("/c/portal/captcha","/get_image")).then((function(e){var t;a.current&&(a.current.src=null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.responseURL)}))};return Object(d.useEffect)((function(){r()}),[]),Object(x.jsx)("div",{className:"captcha-container mt-4",children:Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsxs)("div",{className:"align-items-center d-flex image-captcha mb-3",children:[Object(x.jsx)("img",{ref:a}),Object(x.jsx)(j.a,{className:"ml-2 reload-captcha text-neutral-5",onClick:function(){r()},symbol:"change"})]}),Object(x.jsxs)("div",{className:Le()("form-condensed form-group input-content",{filled:t}),children:[Object(x.jsx)(et.ClayInput,{autoComplete:"off",className:"w-100",id:"input-captcha",onChange:function(e){n(e.target.value)},required:!0,type:"text",value:t}),Object(x.jsx)("label",{htmlFor:"input-captcha",children:"What code is in the image?"})]})]})})},Or=(jr={},Object(Oe.a)(jr,1,{className:"checked",symbol:"check"}),Object(Oe.a)(jr,0,{className:"neutral",symbol:"check"}),Object(Oe.a)(jr,2,{className:"unchecked",symbol:"hr"}),jr);function hr(e){var t=e.label,n=e.status,a=Or[n]||{};return Object(x.jsxs)("span",{className:Le()("create-account__rule",a.className),children:[Object(x.jsx)(j.a,{className:Le()("create-account__rule__icon mr-1 rounded",a.className),symbol:a.symbol}),t]})}function xr(e){var t=e.objValidate;return Object(x.jsx)("div",{className:"ml-4 mt-3",children:Object(x.jsxs)("ul",{className:"list-unstyled",children:[Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:Object(x.jsxs)(x.Fragment,{children:["At least ",Object(x.jsx)("b",{children:"8 characters"})]}),status:t.qtdCharacter})}),Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:Object(x.jsxs)(x.Fragment,{children:["At least ",Object(x.jsx)("b",{children:"5 unique characters"})]}),status:t.uniqueCharacter})}),Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:Object(x.jsxs)(x.Fragment,{children:["At least ",Object(x.jsx)("b",{children:"1 symbol"})]}),status:t.symbolCharacter})}),Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:Object(x.jsxs)(x.Fragment,{children:["At least ",Object(x.jsx)("b",{children:"1 number"})]}),status:t.numberCharacter})}),Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("b",{children:"No spaces"})," allowed"]}),status:t.noSpace})}),Object(x.jsx)("li",{children:Object(x.jsx)(hr,{label:"Passwords are the same",status:t.samePassword})})]})})}function Sr(){var e=Object(d.useContext)(Ga),t=Object(W.a)(e,2)[1],n=Object(d.useState)(0),a=Object(W.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(""),s=Object(W.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(""),b=Object(W.a)(u,2),m=b[0],p=b[1],f=Object(d.useState)(""),j=Object(W.a)(f,2),v=j[0],O=j[1],h=Object(d.useState)(lr),S=Object(W.a)(h,2),y=S[0],E=S[1],g=Object(d.useState)("Create a Password"),N=Object(W.a)(g,2),I=N[0],_=N[1],A=Object(d.useState)(""),C=Object(W.a)(A,2),T=C[0],w=C[1],P=Object(d.useState)(!1),L=Object(W.a)(P,2),R=L[0],k=L[1],B=Object(d.useState)(!1),D=Object(W.a)(B,2),M=D[0],U=D[1];Object(d.useEffect)((function(){i(0)}),[o,m,v]);var Y=function(e){return new RegExp(lt).test(e)}(m),q=function(){for(var e=0,t=Object.values(y);e<t.length;e++){if(1!==t[e])return!1}return Y},F=q();return Object(x.jsxs)("div",{className:"create-account mb-md-4 ml-lg-5 ml-md-4 mt-0 mt-md-4",children:[Object(x.jsx)("h5",{className:"font-weight-bolder mb-5 mx-0",children:"Create a Raylife account to continue. This will be used to login to your dashboard."}),Object(x.jsxs)(tt.a,{autoComplete:"off",className:"create-account__form",children:[Object(x.jsxs)("div",{className:"create-account__form__content-input filled form-condensed form-group mb-1 mt-4",children:[Object(x.jsx)(et.ClayInput,{autoComplete:"off",className:"bg-neutral-0 email w-100",id:"email",name:"email",onChange:function(e){p(e.target.value)},placeholder:"sam.jones@gmail.com",required:!0,type:"text",value:m}),Object(x.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(x.jsx)("div",{children:m&&!Y&&Object(x.jsx)(nt,{children:"Please enter a valid email address."})}),Object(x.jsxs)("div",{className:Le()("create-account__form__content-input form-condensed form-group mt-4",{filled:v}),children:[Object(x.jsx)(et.ClayInput,{autoComplete:"off",className:"w-100",id:"password",onBlur:function(){v||_("Create a Password")},onChange:function(e){O(e.target.value),E(fr(o,e.target.value))},onFocus:function(){return _("Password")},required:!0,type:"password",value:v}),Object(x.jsx)("label",{htmlFor:"password",children:I})]}),Object(x.jsxs)("div",{className:Le()("create-account__form__content-input form-condensed form-group mt-4",{filled:o}),children:[Object(x.jsx)(et.ClayInput,{autoComplete:"off",className:"w-100",id:"rePassword",onChange:function(e){l(e.target.value),E(fr(e.target.value,v))},required:!0,type:"password",value:o}),Object(x.jsx)("label",{htmlFor:"rePassword",children:"Re-enter Password"})]}),Object(x.jsx)(xr,{objValidate:y}),Object(x.jsx)(vr,{captchaValue:T,setCaptchaValue:w})]}),Object(x.jsx)("div",{className:"align-items-center d-flex justify-content-center justify-content-md-end",children:Object(x.jsx)($t.a,{className:"align-items-center d-flex",disabled:!F||M||!T,displayType:"primary",onClick:function(){q()&&(U(!0),function(e,t,n){return pr.apply(this,arguments)}(m,v,T).then((function(e){t({payload:{panelKey:"uploadDocuments",value:!0},type:Qa}),t({payload:{panelKey:"createAnAccount",value:!1},type:Qa}),t({payload:{panelKey:"createAnAccount",value:!0},type:er}),t({payload:e.id,type:Ka})})).catch((function(){k(!0),U(!1)})))},children:"CREATE ACCOUNT"})}),m&&2===r||R&&Object(x.jsx)("div",{className:"create-account__alert-create mt-4 rounded",children:Object(x.jsx)(nt,{children:"Unable to create your account. Please try again"})})]})}function yr(){var e=O().replace("/web/","");return"/webdav/".concat(e,"/document_library/")}var Er="o/headless-commerce-delivery-cart";function gr(e){return B.get("".concat(Er,"/v1.0/carts/").concat(e,"/payment-methods"))}function Nr(e,t){return B.get("".concat(Er,"/v1.0/carts/").concat(e,"/payment-url?callbackURL=").concat(t))}function Ir(e){return B.post("".concat(Er,"/v1.0/carts/").concat(e,"/checkout"))}var _r="o/headless-commerce-admin-order";function Ar(e,t,n){var a={orderItems:[Object(H.a)({discountAmount:0,discountPercentageLevel1:0,discountPercentageLevel2:0,discountPercentageLevel3:0,discountPercentageLevel4:0},t)],paymentMethod:e,subtotal:t.finalPrice,total:t.finalPrice};return B.patch("".concat(_r,"/v1.0/orders/").concat(n),a)}var Cr="o/c/raylifequotes",Tr=oe(je);function wr(e){return B.patch("".concat(Cr,"/").concat(Tr),{billingOption:{key:0===e?"payInFull":"installments",name:0===e?"Pay in Full":"Installments"}})}var Pr="INSTALLMENT",Lr="PAY IN FULL",Rr=function(e){var t=e.children,n=e.onSelected,a=e.selected,r=void 0!==a&&a,i=e.value;return Object(x.jsxs)("div",{className:Le()("align-self-center align-items-center border d-flex pay-card px-3 py-2 rounded-sm user-select-auto",{"bg-brand-primary-lighten-5  border-primary rounded-sm":r,"border-white":!r}),onClick:function(){n(i)},children:[Object(x.jsx)(et.ClayRadio,{checked:r,id:"radio-".concat(i),name:"radio",type:"radio",value:i}),t]})},kr=function(){var e=Object(d.useState)(!1),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Object(d.useState)([]),i=Object(W.a)(r,2),c=i[0],s=i[1],l=Object(d.useContext)(Ga),b=Object(W.a)(l,2),m=b[0],p=m.accountId,f=m.commerce,j=f.channel,v=f.skus,h=m.orderId,S=m.product.dataJSON,y=b[1],E=JSON.parse(S),g=Number(E.price),N=g/2,I=.05*g,_=g-I,A=c.find((function(e){return e.checked}));function C(e){var t={currency:"USD",style:"currency"};return e.toLocaleString("en-US",e%1===0?Object.assign(t,{maximumFractionDigits:0}):t)}var T=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=function(e){return v.find((function(t){return t.sku===e}))||v[0]})(Pr),a=t(Lr),e.next=5,gr(h);case 5:r=e.sent,i=r.data,c=(void 0===i?{}:i).items,s(c.map((function(e){return{checked:!1,image:"".concat(yr(),"/").concat(e.key.replace("-","_"),".svg"),options:[{checked:!0,description:"Save ".concat(C(I)),id:0,orderItem:{discountAmount:I,finalPrice:_,id:0,quantity:1,skuId:a.id,unitPrice:_},title:"Pay in full - ".concat(C(_))},{checked:!1,description:"",id:1,orderItem:{finalPrice:N,id:0,quantity:1,skuId:n.id,unitPrice:N},title:"2 payments of ".concat(C(N))}],title:e.name,value:e.key}})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){h||function(e,t,n){var a,r=JSON.parse(ue.getItem(de)),i=null===r||void 0===r||null===(a=r.basics)||void 0===a?void 0:a.businessInformation,c=i.business,s=c.location,o=s.address,l=s.addressApt,u=s.city,d=s.state,b=s.zip,m=c.phone,p=i.firstName,f=i.lastName,j={city:u,countryISOCode:"US",description:l,id:0,latitude:0,longitude:0,name:"".concat(p," ").concat(f),phoneNumber:m,regionISOCode:d,street1:o,zip:b},v={accountId:e,billingAddress:j,channelId:t,currencyCode:"USD",orderItems:[{id:0,quantity:1,skuId:n}],orderStatus:2,shippingAddress:j,shippingAmount:0,shippingWithTaxAmount:0};return B.post("".concat(_r,"/v1.0/orders"),v)}(p,j.id,v[0].id).then((function(e){var t=e.data.id;!function(e){var t={r_commerceOrderToQuotes_commerceOrderId:e};B.patch("".concat(Cr,"/").concat(Tr),t)}(t),le("orderId",t),y({payload:t,type:$a})}))}),[h]),Object(d.useEffect)((function(){h&&T()}),[h]);var w=function(e){s(c.map((function(t){return Object(H.a)(Object(H.a)({},t),{},{checked:t.value===e})})))},P=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.options.find((function(e){return e.checked})),a=n.id,r=n.orderItem,wr(a),e.next=4,Ar(t.value,r,h);case 4:return e.next=6,Ir(h);case 6:return e.next=8,Nr(h,"".concat(origin).concat(O(),"/congrats"));case 8:i=e.sent,c=i.data,window.location.href=c;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"c-mb-4 c-mt-5 ml-1 ml-sm-3",children:[Object(x.jsxs)("div",{className:"c-mb-3 c-mt-5 d-flex flex-column",children:[Object(x.jsx)("h5",{className:"mb-3",children:"Payment Method"}),c.map((function(e,t){return Object(x.jsx)("div",{className:"align-items-center c-mb-3 d-flex flex-row payment-method",children:Object(x.jsxs)(Rr,{onSelected:w,selected:e.checked,value:e.value,children:[Object(x.jsx)("div",{className:"align-items-center d-flex justify-content-center",children:Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:"bg-neutral-0 border c-p-1 card-outlined pay-card-image rounded-sm",src:e.image})})}),Object(x.jsx)("p",{children:e.title})]})},t)}))]}),Object(x.jsx)("div",{className:"c-mb-5 d-flex flex-column",children:A&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h5",{className:"c-mb-3",children:"Billing Options"}),A.options.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"d-sm-flex",children:A.options.map((function(e,t){return Object(x.jsx)("div",{className:Le()("align-items-center billing-options c-mb-3 c-mr-3 c-px-5 c-py-3 d-flex flex-column justify-content-center rounded-sm",{border:!e.checked,"selected shadow-lg type-payment-card-solid":e.checked}),onClick:function(){return t=e.id,void s(c.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{options:e.options.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{checked:e.id===t})}))})})));var t},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"text-center text-link-sm",children:e.title}),Object(x.jsx)("p",{className:Le()("text-center",{"font-weight-bold text-accent-5 text-paragraph-xs":e.checked,"text-paragraph-xs":!e.checked}),children:e.description})]})},t)}))}),Object(x.jsxs)("div",{className:"d-flex flex-row",children:[Object(x.jsx)("div",{className:"c-mr-2",children:Object(x.jsx)(et.ClayCheckbox,{checked:n,name:"agree-check",onChange:function(){return a(!n)},type:"checkbox",value:n})}),Object(x.jsx)("p",{className:"align-items-center c-mb-6 d-flex justify-content-center justify-content-md-end text-paragraph-sm",children:Object(x.jsxs)("span",{children:["I have read and agree to the\xa0",Object(x.jsx)("strong",{children:"Raylife Terms and Conditions"})]})})]}),Object(x.jsx)("div",{className:"c-mb-2 c-mt-7 d-flex justify-content-center justify-content-sm-end payment-button",children:Object(x.jsx)($t.a,{className:"btn-solid c-px-5 display-4 text-link-md text-uppercase",disabled:!n,displayType:"style-secondary",onClick:function(){return P(A)},children:"Pay Now"})}),"paypal"===A.value&&Object(x.jsx)("p",{className:"d-flex justify-content-center justify-content-sm-end option-message text-center",children:"You will be redirected to PayPal to complete payment"})]}):Object(x.jsx)("div",{className:"no-options",children:Object(x.jsx)("p",{children:"No options..."})})]})})]})},Br="o/headless-delivery",Dr={description:">...",parentDocumentFolderId:0,viewableBy:"Anyone"};function Mr(e,t,n){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(o.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n),e.abrupt("return",B.post("".concat(Br,"/v1.0/document-folders/").concat(t,"/documents"),r,{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);a(t)}}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return B.get(n?"".concat(Br,"/v1.0/document-folders/").concat(e,"/document-folders/").concat(t):"".concat(Br,"/v1.0/sites/").concat(e,"/document-folders/").concat(t))};function qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return B.post(n?"".concat(Br,"/v1.0/document-folders/").concat(e,"/document-folders"):"".concat(Br,"/v1.0/sites/").concat(e,"/document-folders/"),t)}function Fr(e,t,n){return Vr.apply(this,arguments)}function Vr(){return(Vr=Object(o.a)(u.a.mark((function e(t,n,a){var r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(t,"?filter=contains(name, '".concat(n,"')"),a);case 2:if(!(i=e.sent).data.totalCount){e.next=7;break}r=i.data.items[0],e.next=11;break;case 7:return e.next=9,qr(t,Object(H.a)(Object(H.a)({},Dr),{},{name:n}),a);case 9:c=e.sent,r=c.data;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(o.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue.getItem(be),e.next=3,Fr(v.ThemeDisplay.getScopeGroupId(),t);case 3:return a=e.sent,e.next=6,Fr(a.id,n,!0);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gr=["children"];function zr(e){var t=e.children,n=Object(Re.a)(e,Gr);return Object(x.jsxs)("div",Object(H.a)(Object(H.a)({},n),{},{className:"align-items-center badge badge-info d-flex rounded",children:[Object(x.jsx)(j.a,{className:"c-ml-4 c-mr-2 flex-shrink-0",symbol:"info-circle"}),t]}))}var Kr=function(e){var t=e.progress;return Object(x.jsx)("div",{className:"progress-bar",style:{height:4,width:144},children:Object(x.jsx)("div",{className:"progress-bar__progress",style:{width:"".concat(t,"%")}})})},Jr=n(13),Qr={"application/pdf":"document-pdf","application/vnd.openxmlformats-officedocument.presentationml.presentation":"document-presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"document-table","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document-text","text/plain":"document-text"};function $r(e){return Qr[e]||"document-unknown"}function Xr(e,t){return("image"===t?["image/jpeg","image/jpg","image/png"]:Object.keys(Qr)).includes(e)}function Zr(e){return e.some((function(e){return e.error}))}var ei="176px",ti="176px",ni=function(e){var t=e.dropAreaProps,n=t.heightContainer,a=t.limitFiles,r=t.type,i=t.widthContainer,c=e.files,s=void 0===c?[]:c,l=e.setFiles,b=e.setShowBadgeInfo,m=Object(d.useState)(i),p=Object(W.a)(m,2),f=p[0],v=p[1],O=Object(d.useState)(n),h=Object(W.a)(O,2),S=h[0],y=h[1],E=Object(d.useState)(!1),g=Object(W.a)(E,2),N=g[0],I=g[1],_=Object(d.useRef)(),A=Object(d.useRef)(),C=Object(d.useRef)(s),T=Object(d.useRef)(S),w=Object(d.useRef)(),P=Object(d.useRef)(N),L=Object(d.useRef)(f),R=function(e){T.current=e,y(e)},k=function(e){P.current=e,I(e)},B=function(e){L.current=e,v(e)};function D(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a)},a.onerror=n}))}var M=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C.current.length+t.length>a)){e.next=3;break}return e.abrupt("return",b(!0));case 3:n=Object(z.a)(t),e.prev=4,c=u.a.mark((function e(){var t,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.value,n=t.name,a=t.type,!C.current.some((function(e){return e.name===n}))){e.next=7;break}return alert("File ".concat(n," already exists!")),e.abrupt("return","continue");case 7:if(Xr(a,r)){e.next=10;break}return alert("Invalid file ".concat(n,"!")),e.abrupt("return","continue");case 10:return e.next=12,D(t);case 12:c=e.sent,t.icon=$r(a),t.id="".concat(n,"-").concat(Math.random()),t.fileURL=c.result,s=[].concat(Object(Jr.a)(C.current),[t]),C.current=s,l(s);case 17:case"end":return e.stop()}var s}),e)})),n.s();case 7:if((i=n.n()).done){e.next=14;break}return e.delegateYield(c(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),n.e(e.t1);case 19:return e.prev=19,n.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){C.current=s}),[s]),Object(d.useEffect)((function(){var e=_.current,t=A.current,n=w.current;"image"===r&&(B(ei),R(ti)),e.onclick=function(){n.value=null,n.click()};var a=function(){M(this.files)},i=function(e){e.preventDefault()},c=function(e){e.preventDefault(),M(e.dataTransfer.files)};return t.addEventListener("dragover",i),t.addEventListener("drop",c),n.addEventListener("change",a),function(){t.removeEventListener("dragover",i),t.removeEventListener("drop",c),n.removeEventListener("change",a)}}),[]),Object(d.useEffect)((function(){var e=s.length;if(e>=1&&e<a)return B(ei),R(ti),k(!0),b(!1);0===e&&"image"!==r&&(B(i),R(n)),k(!0),0!==e&&(b(!0),k(!1))}),[s]),Object(x.jsx)("div",{className:Le()("align-items-center bg-brand-primary-lighten-6 font-weight-normal text-neutral-8 d-flex drop-area flex-wrap justify-content-center position-static rounded-xl text-paragraph",{"d-none":!N}),ref:A,style:{height:"".concat(S),width:"".concat(f)},children:Object(x.jsxs)("div",{className:"align-items-center d-flex flex-wrap justify-content-center upload-button",children:[Object(x.jsxs)("p",{className:"c-px-2 display-mobile",children:["Drag & drop files or","image"!==r&&Object(x.jsx)("span",{children:"\xa0"})]}),Object(x.jsxs)("a",{className:"align-items-center c-px-3 c-py-2 d-flex font-weight-bolder justify-content-center link-button rounded-xs text-brand-primary text-paragraph-sm",ref:_,children:[Object(x.jsx)(j.a,{className:"c-mr-2",symbol:"upload"}),"BROWSE FILES"]})," ",Object(x.jsx)("input",{className:"d-none input-file position-relative rounded-xl",multiple:!0,name:"input-file",ref:w,style:{height:"".concat(S),top:"-".concat(S),width:"".concat(f)},type:"file"})]})})},ai=function(e){var t=e.file,n=e.onRemoveFile,a=e.showCloseButton,r=void 0===a||a,i=e.showName,c=void 0===i||i;return Object(x.jsxs)(x.Fragment,{children:[c&&Object(x.jsx)("span",{className:"c-mt-1 ellipsis mb-3 text-center text-neutral-7 text-paragraph-sm",title:t.name,children:t.name}),r&&Object(x.jsx)("div",{className:"align-items-center bg-neutral-0 close-icon d-flex justify-content-center position-relative rounded-circle",onClick:function(){return n(t)},children:Object(x.jsx)(j.a,{symbol:"times"})})]})},ri=function(e){var t=e.file,n=e.onRemoveFile,a=e.showCloseButton,r=void 0===a||a,i=e.showName,c=void 0===i||i,s=e.type,o=void 0===s?"image":s;return Object(x.jsx)("div",{className:"d-flex flex-column mr-1 mr-sm-3 view-file-document",children:Object(x.jsxs)("div",{className:"d-flex div-document flex-column text-center",title:t.name,children:[Object(x.jsx)("div",{className:"align-items-center bg-neutral-1 content d-flex justify-content-center rounded-xl",children:"image"===o?Object(x.jsx)("div",{className:"d-flex flex-column image text-center",children:Object(x.jsx)("img",{alt:t.name,className:"rounded-xl",src:t.fileURL})}):Object(x.jsx)(j.a,{className:t.icon,symbol:t.icon})}),Object(x.jsx)(ai,{file:t,onRemoveFile:n,showCloseButton:r,showName:c})]})})},ii=function(e){var t=e.dropAreaProps,n=e.files,a=void 0===n?[]:n,r=e.onRemoveFile,i=e.setFiles,c=e.setShowBadgeInfo,s=e.type;return Object(x.jsxs)("div",{className:"d-flex flex-wrap view-file",children:[a.map((function(e,t){return e.progress<100?Object(x.jsxs)("div",{className:Le()("flex-column",{"mr-1 mr-sm-3":t<3}),title:e.name,children:[Object(x.jsxs)("div",{className:"align-items-center bg-brand-primary-lighten-6 c-mb-1 card d-flex flex-column justify-content-center rounded-xl",children:[Object(x.jsx)("p",{className:"font-weight-normal text-neutral-8 text-paragraph",children:"Uploading..."}),Object(x.jsx)(Kr,{height:"4",progress:e.progress,width:"144"})]}),Object(x.jsx)(ai,{file:e,onRemoveFile:r,showCloseButton:!1})]}):Object(x.jsx)(ri,{file:e,onRemoveFile:r,type:s},t)})),Object(x.jsx)(ni,{dropAreaProps:t,files:a,setFiles:i,setShowBadgeInfo:c})]})},ci=function(e){var t=e.dropAreaProps,n=e.files,a=e.setFiles,r=e.title,i=Object(d.useState)(!1),c=Object(W.a)(i,2),s=c[0],o=c[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ii,{dropAreaProps:t,files:n,onRemoveFile:function(e){var t=e.documentId,r=e.id;try{t&&function(e){B.delete("".concat(Br,"/v1.0/documents/").concat(e,"/"))}(t);var i=n.filter((function(e){return e.id!==r}));a(i)}catch(c){console.error(c)}},setFiles:a,setShowBadgeInfo:o,type:t.type}),s&&Object(x.jsx)("div",{className:"c-mt-3 upload-alert",children:Object(x.jsx)(zr,{children:Object(x.jsxs)("div",{className:"alert-content align-items-center d-flex justify-content-between w-100",children:[Object(x.jsx)("div",{className:"alert-description font-weight-normal text-paragraph",children:"".concat(t.limitFiles," files upload limit reached for ").concat(r,".")}),Object(x.jsx)("div",{className:"close-icon mr-4",onClick:function(){return o(!s)},children:Object(x.jsx)(j.a,{className:"flex-shrink-0",symbol:"times"})})]})})})]})},si={heightContainer:"120px",limitFiles:4,widthContainer:"100%"},oi=function(){var e=Object(d.useContext)(T),t=Object(d.useContext)(Ga),n=Object(W.a)(t,2),a=n[0].sections,r=n[1],i=Object(d.useState)(!1),c=Object(W.a)(i,2),s=c[0],l=c[1],b=function(e){r({payload:e,type:Za})},m=function(e,t){b(a.map((function(n){return n.title===e.title&&(n.error=t),n})))},p=function(e,t,n){b(a.map((function(a){return Object(H.a)(Object(H.a)({},a),{},{files:a.files.map((function(a){return a.id===e&&(a[t]=n),a}))})})))},f=function(){var t=Object(o.a)(u.a.mark((function t(){var n,i,c,s,o,d,b,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Wr(e.applicationsfoldername);case 3:n=t.sent,i=Object(z.a)(a),t.prev=5,i.s();case 7:if((c=i.n()).done){t.next=37;break}return s=c.value,m(s,!1),t.next=12,Fr(n.id,s.title,!0);case 12:if(o=t.sent,!s.required||s.files.length){t.next=16;break}return m(s,!0),t.abrupt("continue",35);case 16:d=Object(z.a)(s.files),t.prev=17,f=u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=b.value).documentId){e.next=3;break}return e.abrupt("return","continue");case 3:return e.prev=3,e.next=6,Mr(o.id,t,(function(e){return p(t.id,"progress",e)}));case 6:n=e.sent,a=n.data,p(t.id,"documentId",a.id),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),d.s();case 20:if((b=d.n()).done){t.next=27;break}return t.delegateYield(f(),"t0",22);case 22:if("continue"!==t.t0){t.next=25;break}return t.abrupt("continue",25);case 25:t.next=20;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(17),d.e(t.t1);case 32:return t.prev=32,d.f(),t.finish(32);case 35:t.next=7;break;case 37:t.next=42;break;case 39:t.prev=39,t.t2=t.catch(5),i.e(t.t2);case 42:return t.prev=42,i.f(),t.finish(42);case 45:l(!1),Zr(a)||(r({payload:{panelKey:"selectPaymentMethod",value:!0},type:Qa}),r({payload:{panelKey:"uploadDocuments",value:!1},type:Qa}),r({payload:{panelKey:"uploadDocuments",value:!0},type:er})),da();case 48:case"end":return t.stop()}}),t,null,[[5,39,42,45],[17,29,32,35]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"d-flex flex-column flex-wrap upload-container",children:[a.map((function(e,t){return Object(x.jsxs)("section",{className:"c-pl-lg-4 c-pl-md-4 c-pr-0 c-pt-4 upload-section",children:[Object(x.jsxs)("header",{className:"c-mb-3 header",children:[Object(x.jsxs)("h5",{className:"c-mb-1 font-weight-bolder h5 upload-title",children:[e.title,e.required?Object(x.jsx)("span",{className:"reference-mark",children:Object(x.jsx)(j.a,{className:"text-warning upload-asterisk",symbol:"asterisk"})}):Object(x.jsx)("span",{className:"text-neutral-8",children:" (optional)"})]}),Object(x.jsx)("span",{className:"font-weight-normal text-neutral-8 text-paragraph",children:e.subtitle})]}),Object(x.jsx)("div",{className:"d-flex flex-column upload-content",children:Object(x.jsx)(ci,{dropAreaProps:Object(H.a)(Object(H.a)({},si),{},{type:e.type}),files:e.files,setFiles:function(t){return function(e,t){b(a.map((function(n){return n.title===e.title&&(n.files=t,n.error=!1),n})))}(e,t)},title:e.title})}),e.error&&Object(x.jsx)("div",{className:"c-mt-3 upload-alert",children:Object(x.jsx)(nt,{children:Object(x.jsx)("div",{className:"alert-content",children:Object(x.jsx)("div",{className:"alert-description",children:e.errorMessage})})})})]},t)})),Object(x.jsx)("div",{className:"d-flex justify-content-center justify-content-md-end mt-6",children:Object(x.jsx)($t.a,{className:"font-weight-bolder rounded-sm text-neutral-0 text-paragraph",disabled:s,displayType:"primary",onClick:f,children:"CONFIRM UPLOADS"})})]})},li=function(e){var t=e.onClose,n=e.onDiscardChanges,a=e.show,r=Ae().device.isMobile;return Object(x.jsx)(Fe,{closeable:!1,footer:Object(x.jsxs)("div",{className:"align-items-center d-flex flex-row justify-content-between ml-2 mr-1 mt-auto",children:[Object(x.jsx)("button",{className:"btn btn-link link text-link-md text-neutral-7 text-small-caps upload-documents-mobile",onClick:t,children:"Cancel"}),Object(x.jsx)("button",{className:"btn btn-primary rounded text-link-md text-small-caps",onClick:function(){n(),t()},children:"Continue"})]}),onClose:t,show:a,size:r?"small-mobile":"small",children:Object(x.jsx)("div",{className:"align-items-center d-flex flex-column justify-content-between mb-4 mb-md-0 mt-2 mt-md-auto progress-saved-content",children:Object(x.jsx)("div",{className:"align-items-center d-flex flex-column progress-saved-body",children:Object(x.jsx)("div",{className:"font-weight-semi-bold pt-1 text-center text-neutral-8 text-paragraph-lg upload-documents-mobile",children:"This will discard the files you have uploaded so far. Continue?"})})})})},ui=function(e){var t=e.checked,n=e.expanded,a=e.hasError,r=Object(d.useState)(!1),i=Object(W.a)(r,2),c=i[0],s=i[1],o=Object(d.useContext)(Ga),l=Object(W.a)(o,2),u=l[0].sections,b=l[1],m=Object(d.useState)(!1),p=Object(W.a)(m,2),f=p[0],j=p[1];return Object(d.useEffect)((function(){var e=!1;null===u||void 0===u||u.forEach((function(t){var n;(null===(n=t.files)||void 0===n?void 0:n.some((function(e){return!e.documentId})))&&(e=!0)})),s(e)}),[u]),Object(x.jsxs)("div",{className:"d-flex flex-row justify-content-end order-2 order-lg-2 order-md-3 order-xl-3 panel-right",children:[Object(x.jsxs)("div",{className:"change-link",children:[t&&!a&&!n&&Object(x.jsx)("span",{className:"mr-4",onClick:function(){b({payload:{panelKey:"uploadDocuments",value:!0},type:Qa}),b({payload:{panelKey:"uploadDocuments",value:!1},type:er}),b({payload:{panelKey:"selectPaymentMethod",value:!1},type:Qa})},children:"Change"}),!t&&n&&c&&Object(x.jsx)("span",{className:"mr-4",onClick:function(){return j(!0)},children:"Discard Changes"})]}),Object(x.jsx)(ir,{checked:t,expanded:n,hasError:a}),Object(x.jsx)(li,{onClose:function(){return j(!1)},onDiscardChanges:function(){b({payload:null===u||void 0===u?void 0:u.map((function(e){return e.files=e.files.filter((function(e){return e.documentId})),e})),type:Za})},show:f})]})},di=function(){var e=Object(d.useContext)(Ga),t=Object(W.a)(e,1)[0].sections,n=Object(d.useState)(!1),a=Object(W.a)(n,2),r=a[0],i=a[1];return Object(d.useEffect)((function(){document.querySelector("section#content #main-content .container-fluid").classList.add("selected-quote-content")}),[]),Object(d.useEffect)((function(){t&&i(Zr(t))}),[t]),Object(x.jsxs)("div",{className:"container d-flex flex-column flex-lg-row mb-10 w-100",children:[Object(x.jsx)(or,{}),Object(x.jsxs)("div",{className:"ml-0 ml-lg-5 w-100",children:[Object(x.jsx)(rr,{Right:ir,id:"createAnAccount",title:"Create an Account",titleNumber:"1",children:Object(x.jsx)(Sr,{})}),Object(x.jsx)(rr,{Middle:function(e){var n=e.checked,a=!e.expanded&&n;return Object(x.jsx)("div",{className:Le()("order-last order-lg-3 order-md-2 order-xl-2 panel-middle",{"d-none":!a}),children:a&&Object(x.jsx)(cr,{sections:t})})},Right:ui,changeable:!0,hasError:r,id:"uploadDocuments",title:"Upload Documents",titleNumber:"2",children:Object(x.jsx)(oi,{})}),Object(x.jsx)(rr,{Right:ir,id:"selectPaymentMethod",title:"Select Payment Method",titleNumber:"3",children:Object(x.jsx)(kr,{})})]})]})},bi=function(){return Object(x.jsx)(ar,{children:Object(x.jsx)(di,{})})},mi=function(e){var t=e.route,n=new URLSearchParams(window.location.search).get("raylife_dev_application")||t;return"quote-comparison"===n?Object(x.jsx)(Wa,{}):"get-a-quote"===n?Object(x.jsx)(Pa,{}):"selected-quote"===n?Object(x.jsx)(bi,{}):void 0},pi=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,sessionStorage.setItem("raylife-guest-permission-token",null===t||void 0===t?void 0:t.access_token);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fi=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"connectedCallback",value:function(){var e={applicationsfoldername:this.getAttribute("applicationsfoldername"),googleplaceskey:this.getAttribute("googleplaceskey"),route:this.getAttribute("route")};e.googleplaceskey&&A(e.googleplaceskey),pi(),p.a.render(Object(x.jsx)(y,{children:Object(x.jsx)(w,{properties:e,children:Object(x.jsx)(mi,{route:e.route})})}),this)}}]),n}(Object(s.a)(HTMLElement)),ji="liferay-remote-app-raylife";customElements.get(ji)||customElements.define(ji,fi)},44:function(e,t){},82:function(e,t,n){}},[[153,1,2]]]);
//# sourceMappingURL=main.93a913c8.chunk.js.map